(function(){var e;var t=function(){};var n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var r=n.length;var i=window.console=window.console||{};while(r--){e=n[r];if(!i[e]){i[e]=t}}})();(function(e,t){function n(e){for(var t=1,n;n=arguments[t];t++)for(var r in n)e[r]=n[r];return e}function r(e){return Array.prototype.slice.call(e)}function i(e,t){for(var n=0,r;r=e[n];n++)if(t==r)return n;return-1}function s(){var e=r(arguments),t=[];for(var n=0,i=e.length;n<i;n++)e[n].length>0&&t.push(e[n].replace(/\/$/,""));return t.join("/")}function o(e,t,n){var r=t.split("/"),i=e;while(r.length>1){var s=r.shift();i=i[s]=i[s]||{}}i[r[0]]=n}function u(){}function a(e,t){this.id=this.path=e,this.force=!!t}function f(e,t){this.id=e,this.body=t,typeof t=="undefined"&&(this.path=this.resolvePath(e))}function l(e,t){this.deps=e,this.collectResults=t,this.deps.length==0&&this.complete()}function c(e,t){this.deps=e,this.collectResults=t}function h(){for(var e in T)if(T[e].readyState=="interactive")return _[T[e].id]}function p(e,t){var n;return!e&&x&&(n=M||h()),n?(delete _[n.scriptId],n.body=t,n.execute()):(O=n=new f(e,t),A[n.id]=n),n}function d(){var e=r(arguments),t,n;return typeof e[0]=="string"&&(t=e.shift()),n=e.shift(),p(t,n)}function v(e,t){var n=t.id||"",r=n.split("/");r.pop();var i=r.join("/");return e.replace(/^\./,i)}function m(e,t){function n(e){return f.exports[v(e,t)]}var r=[];for(var i=0,s=e.length;i<s;i++){if(e[i]=="require"){r.push(n);continue}if(e[i]=="exports"){t.exports=t.exports||{},r.push(t.exports);continue}r.push(n(e[i]))}return r}function g(){var e=r(arguments),t=[],n,s;return typeof e[0]=="string"&&(n=e.shift()),I(e[0])&&(t=e.shift()),s=e.shift(),p(n,function(e){function n(){var n=m(r(t),o),i;typeof s=="function"?i=s.apply(o,n):i=s,typeof i=="undefined"&&(i=o.exports),e(i)}var o=this,u=[];for(var a=0,f=t.length;a<f;a++){var l=t[a];i(["require","exports"],l)==-1&&u.push(v(l,o))}u.length>0?y.apply(this,u.concat(n)):n()})}function y(){var e=r(arguments),t,n;typeof e[e.length-1]=="function"&&(t=e.pop()),typeof e[e.length-1]=="boolean"&&(n=e.pop());var i=new l(b(e,n),n);return t&&i.then(t),i}function b(e,t){var n=[];for(var r=0,i;i=e[r];r++)typeof i=="string"&&(i=w(i)),I(i)&&(i=new c(b(i,t),t)),n.push(i);return n}function w(e){var t,n;for(var r=0,i;i=y.matchers[r];r++){var s=i[0],o=i[1];if(t=e.match(s))return o(e)}throw new Error(e+" was not recognised by loader")}function E(){return e.using=D,e.provide=P,e.define=H,e.loadrunner=B,q}function S(e){for(var t=0;t<y.bundles.length;t++)for(var n in y.bundles[t])if(n!=e&&i(y.bundles[t][n],e)>-1)return n}var x=e.attachEvent&&!e.opera,T=t.getElementsByTagName("script"),N=0,C,k=t.createElement("script"),L={},A={},O,M,_={},D=e.using,P=e.provide,H=e.define,B=e.loadrunner;for(var j=0,F;F=T[j];j++)if(F.src.match(/loadrunner\.js(\?|#|$)/)){C=F;break}var I=Array.isArray||function(e){return e.constructor==Array};u.prototype.then=function(t){var n=this;return this.started||(this.started=!0,this.start()),this.completed?t.apply(e,this.results):(this.callbacks=this.callbacks||[],this.callbacks.push(t)),this},u.prototype.start=function(){},u.prototype.complete=function(){if(!this.completed){this.results=r(arguments),this.completed=!0;if(this.callbacks)for(var t=0,n;n=this.callbacks[t];t++)n.apply(e,this.results)}},a.loaded=[],a.prototype=new u,a.prototype.start=function(){var e=this,t,n,r;return(r=A[this.id])?(r.then(function(){e.complete()}),this):((t=L[this.id])?t.then(function(){e.loaded()}):!this.force&&i(a.loaded,this.id)>-1?this.loaded():(n=S(this.id))?y(n,function(){e.loaded()}):this.load(),this)},a.prototype.load=function(){var t=this;L[this.id]=t;var n=k.cloneNode(!1);this.scriptId=n.id="LR"+ ++N,n.type="text/javascript",n.async=!0,n.onerror=function(){throw new Error(t.path+" not loaded")},n.onreadystatechange=n.onload=function(n){n=e.event||n;if(n.type=="load"||i(["loaded","complete"],this.readyState)>-1)this.onreadystatechange=null,t.loaded()},n.src=this.path,M=this,T[0].parentNode.insertBefore(n,T[0]),M=null,_[n.id]=this},a.prototype.loaded=function(){this.complete()},a.prototype.complete=function(){i(a.loaded,this.id)==-1&&a.loaded.push(this.id),delete L[this.id],u.prototype.complete.apply(this,arguments)},f.exports={},f.prototype=new a,f.prototype.resolvePath=function(e){return s(y.path,e+".js")},f.prototype.start=function(){var e,t,n=this,r;this.body?this.execute():(e=f.exports[this.id])?this.exp(e):(t=A[this.id])?t.then(function(e){n.exp(e)}):(bundle=S(this.id))?y(bundle,function(){n.start()}):(A[this.id]=this,this.load())},f.prototype.loaded=function(){var e,t,n=this;x?(t=f.exports[this.id])?this.exp(t):(e=A[this.id])&&e.then(function(e){n.exp(e)}):(e=O,O=null,e.id=e.id||this.id,e.then(function(e){n.exp(e)}))},f.prototype.complete=function(){delete A[this.id],a.prototype.complete.apply(this,arguments)},f.prototype.execute=function(){var e=this;typeof this.body=="object"?this.exp(this.body):typeof this.body=="function"&&this.body.apply(window,[function(t){e.exp(t)}])},f.prototype.exp=function(e){this.complete(this.exports=f.exports[this.id]=e||{})},l.prototype=new u,l.prototype.start=function(){function e(){var e=[];t.collectResults&&(e[0]={});for(var r=0,i;i=t.deps[r];r++){if(!i.completed)return;i.results.length>0&&(t.collectResults?i instanceof c?n(e[0],i.results[0]):o(e[0],i.id,i.results[0]):e=e.concat(i.results))}t.complete.apply(t,e)}var t=this;for(var r=0,i;i=this.deps[r];r++)i.then(e);return this},c.prototype=new u,c.prototype.start=function(){var e=this,t=0,r=[];return e.collectResults&&(r[0]={}),function i(){var s=e.deps[t++];s?s.then(function(t){s.results.length>0&&(e.collectResults?s instanceof c?n(r[0],s.results[0]):o(r[0],s.id,s.results[0]):r.push(s.results[0])),i()}):e.complete.apply(e,r)}(),this},g.amd={};var q=function(e){return e(y,d,q,define)};q.Script=a,q.Module=f,q.Collection=l,q.Sequence=c,q.Dependency=u,q.noConflict=E,e.loadrunner=q,e.using=y,e.provide=d,e.define=g,y.path="",y.matchers=[],y.matchers.add=function(e,t){this.unshift([e,t])},y.matchers.add(/(^script!|\.js$)/,function(e){var t=new a(e.replace(/^\$/,y.path.replace(/\/$/,"")+"/").replace(/^script!/,""),!1);return t.id=e,t}),y.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(e){return new f(e)}),y.bundles=[],C&&(y.path=window.__twttrLoadRunnerPath||C.getAttribute("data-path")||C.src.split(/loadrunner\.js/)[0]||"",(main=C.getAttribute("data-main"))&&y.apply(e,main.split(/\s*,\s*/)).then(function(){}))})(this,document);window.__twttrlr=loadrunner.noConflict();__twttrlr(function(using,provide,loadrunner,define){provide("util/util",function(e){function t(e){return e&&String(e).toLowerCase().indexOf("[native code]")>-1}function n(e){return h(arguments,function(t){i(t,function(t,n){e[t]=n})}),e}function r(e){return i(e,function(t,n){a(n)&&(r(n),f(n)&&delete e[t]),(n===undefined||n===null||n==="")&&delete e[t]}),e}function i(e,t){for(var n in e)(!e.hasOwnProperty||e.hasOwnProperty(n))&&t(n,e[n]);return e}function s(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function o(e,t){return e==s(t)}function u(e,t,n){return n=n||[],function(){var r=d(arguments,function(e){return e});return e.apply(t,n.concat(r))}}function a(e){return e===Object(e)}function f(e){if(!a(e))return!1;if(Object.keys)return!Object.keys(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e,t){window.setTimeout(function(){e.call(t||null)},0)}var c=function(){var e=Array.prototype.indexOf;return t(e)?function(t,n){return t?e.apply(t,[n]):-1}:function(e,t){if(!e)return-1;for(var n=0,r=e.length;n<r;n++)if(t==e[n])return n;return-1}}(),h=function(){var e=Array.prototype.forEach;return t(e)?function(t,n){if(!t)return;if(!n)return;e.apply(t,[n])}:function(e,t){if(!e)return;if(!t)return;for(var n=0,r=e.length;n<r;n++)t(e[n],n)}}(),p=function(){var e=Array.prototype.filter;return t(e)?function(t,n){return t?n?e.apply(t,[n]):t:null}:function(e,t){if(!e)return null;if(!t)return e;var n=[],r=0,i=e.length;for(;r<i;r++)t(e[r])&&n.push(e[r]);return n}}(),d=function(){var e=Array.prototype.map;return t(e)?function(t,n){return t?n?e.apply(t,[n]):t:null}:function(e,t){if(!e)return null;if(!t)return e;var n=[],r=0,i=e.length;for(;r<i;r++)n.push(t(e[r]));return n}}(),v=function(){var e=Array.prototype.reduce;return t(e)?function(t,n,r){return t?n?e.apply(t,[n,r]):r:null}:function(e,t,n){if(!e)return null;if(!t)return n;var r=n,i=0,s=e.length;for(;i<s;i++)r=t(r,e[i],i,e);return r}}(),m=function(){var e=String.prototype.trim;return t(e)?function(t){return t&&e.apply(t)}:function(e){return e&&e.replace(/(^\s+|\s+$)/g,"")}}(),g=t(Object.create)?Object.create:function(e){function t(){}return t.prototype=e,new t};e({aug:n,async:l,compact:r,forIn:i,forEach:h,filter:p,map:d,reduce:v,trim:m,indexOf:c,isNative:t,isObject:a,isEmptyObject:f,createObject:g,bind:u,toType:s,isType:o})});provide("util/events",function(e){using("util/util",function(t){var n={bind:function(e,t){return this._handlers=this._handlers||{},this._handlers[e]=this._handlers[e]||[],this._handlers[e].push(t)},unbind:function(e,n){if(!this._handlers[e])return;if(n){var r=t.indexOf(this._handlers[e],n);r>=0&&this._handlers[e].splice(r,1)}else this._handlers[e]=[]},trigger:function(e,n){var r=this._handlers&&this._handlers[e];n.type=e,t.forEach(r,function(e){t.async(t.bind(e,this,[n]))})}};e({Emitter:n})})});provide("$xd/json2.js",function(exports){window.JSON||(window.JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)r=rep[n],typeof r=="string"&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();exports();loadrunner.Script.loaded.push("$xd/json2.js")});provide("util/querystring",function(e){function t(e){return encodeURIComponent(e).replace(/\+/g,"%2B").replace(/'/g,"%27")}function n(e){return decodeURIComponent(e)}function r(e){var n=[],r;for(r in e)e[r]!==null&&typeof e[r]!="undefined"&&n.push(t(r)+"="+t(e[r]));return n.sort().join("&")}function i(e){var t={},r,i,s,o;if(e){r=e.split("&");for(o=0;s=r[o];o++)i=s.split("="),i.length==2&&(t[n(i[0])]=n(i[1]))}return t}function s(e,t){var n=r(t);return n.length>0?e.indexOf("?")>=0?e+"&"+r(t):e+"?"+r(t):e}function o(e){var t=e&&e.split("?");return t.length==2?i(t[1]):{}}e({url:s,decodeURL:o,decode:i,encode:r,encodePart:t,decodePart:n})});provide("util/twitter",function(e){using("util/querystring",function(t){function n(e){return typeof e=="string"&&h.test(e)&&RegExp.$1.length<=20}function r(e){if(n(e))return RegExp.$1}function i(e,n){var i=t.decodeURL(e);n=n||!1,i.screen_name=r(e);if(i.screen_name)return t.url("https://twitter.com/intent/"+(n?"follow":"user"),i)}function s(e){return i(e,!0)}function o(e){return typeof e=="string"&&m.test(e)}function u(e,t){t=t===undefined?!0:t;if(o(e))return(t?"#":"")+RegExp.$1}function a(e){return typeof e=="string"&&p.test(e)}function f(e){return a(e)&&RegExp.$1}function l(e){return d.test(e)}function c(e){return v.test(e)}var h=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,p=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,d=/^http(s?):\/\/((www\.)?)twitter\.com\//,v=/^http(s?):\/\/pbs\.twimg\.com\//,m=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/;e({isHashTag:o,hashTag:u,isScreenName:n,screenName:r,isStatus:a,status:f,intentForProfileURL:i,intentForFollowURL:s,isTwitterURL:l,isTwimgURL:c,regexen:{profile:h}})})});provide("util/uri",function(e){using("util/querystring","util/util","util/twitter",function(t,n,r){function i(e,t){var n,r;return t=t||location,/^https?:\/\//.test(e)?e:/^\/\//.test(e)?t.protocol+e:(n=t.host+(t.port.length?":"+t.port:""),e.indexOf("/")!==0&&(r=t.pathname.split("/"),r.pop(),r.push(e),e="/"+r.join("/")),[t.protocol,"//",n,e].join(""))}function s(){var e=document.getElementsByTagName("link"),t=0,n;for(;n=e[t];t++)if(n.rel=="canonical")return i(n.href)}function o(){var e=document.getElementsByTagName("a"),t=document.getElementsByTagName("link"),n=[e,t],i,s,o=0,u=0,a=/\bme\b/,f;for(;i=n[o];o++)for(u=0;s=i[u];u++)if(a.test(s.rel)&&(f=r.screenName(s.href)))return f}e({absolutize:i,getCanonicalURL:s,getScreenNameFromPage:o})})});provide("util/typevalidator",function(e){using("util/util",function(t){function n(e){return e!==undefined&&e!==null&&e!==""}function r(e){return s(e)&&e%1===0}function i(e){return s(e)&&!r(e)}function s(e){return n(e)&&!isNaN(e)}function o(e){return n(e)&&t.toType(e)=="array"}function u(e){if(!n(e))return!1;switch(e){case"on":case"ON":case"true":case"TRUE":return!0;case"off":case"OFF":case"false":case"FALSE":return!1;default:return!!e}}function a(e){if(s(e))return e}function f(e){if(i(e))return e}function l(e){if(r(e))return e}e({hasValue:n,isInt:r,isFloat:i,isNumber:s,isArray:o,asInt:l,asFloat:f,asNumber:a,asBoolean:u})})});provide("tfw/util/globals",function(e){using("util/typevalidator",function(t){function n(){var e=document.getElementsByTagName("meta"),t,n,r=0;s={};for(;t=e[r];r++){if(!/^twitter:/.test(t.name))continue;n=t.name.replace(/^twitter:/,""),s[n]=t.content}}function r(e){return s[e]}function i(e){return t.asBoolean(e)&&(s.dnt=!0),t.asBoolean(s.dnt)}var s;n(),e({init:n,val:r,dnt:i})})});provide("dom/delegate",function(e){function t(e){var t=e.getAttribute("data-twitter-event-id");return t?t:(e.setAttribute("data-twitter-event-id",++h),h)}function n(e,t,n){var r=0,i=e&&e.length||0;for(r=0;r<i;r++)e[r].call(t,n)}function r(e,t,i){var s=i||e.target||e.srcElement,o=s.className.split(" "),u=0,a=o.length;for(;u<a;u++)n(t["."+o[u]],s,e);n(t[s.tagName],s,e);if(e.cease)return;s!==this&&r.call(this,e,t,s.parentElement||s.parentNode)}function i(e,t,n){if(e.addEventListener){e.addEventListener(t,function(i){r.call(e,i,n[t])},!1);return}e.attachEvent&&e.attachEvent("on"+t,function(){r.call(e,e.ownerDocument.parentWindow.event,n[t])})}function s(e,n,r,s){var o=t(e);c[o]=c[o]||{},c[o][n]||(c[o][n]={},i(e,n,c[o])),c[o][n][r]=c[o][n][r]||[],c[o][n][r].push(s)}function o(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){n(window.event)})}function u(e,n,i){var s=t(n),o=c[s]&&c[s];r.call(n,{target:i},o[e])}function a(e){return l(e),f(e),!1}function f(e){e&&e.preventDefault?e.preventDefault():e.returnValue=!1}function l(e){e&&(e.cease=!0)&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}var c={},h=-1;e({stop:a,stopPropagation:l,preventDefault:f,delegate:s,on:o,simulate:u})});provide("tfw/util/article",function(e){using("dom/delegate","tfw/util/globals","util/uri","$xd/json2.js",function(t,n,r){function i(){s=r.getCanonicalURL()||""+document.location;if(!window.top.postMessage)return;if(window==window.top){t.on(window,"message",function(e){var t;if(e.data&&e.data[0]!="{")return;try{t=JSON.parse(e.data)}catch(r){}t&&t.name=="twttr:private:requestArticleUrl"&&e.source.postMessage(JSON.stringify({name:"twttr:private:provideArticleUrl",data:{url:s,dnt:n.dnt()}}),"*")});return}t.on(window,"message",function(e){var t;if(e.data&&e.data[0]!="{")return;try{t=JSON.parse(e.data)}catch(r){}t&&t.name=="twttr:private:provideArticleUrl"&&(s=t.data&&t.data.url,n.dnt(t.data.dnt),o=document.location.href)}),window.top.postMessage(JSON.stringify({name:"twttr:private:requestArticleUrl"}),"*")}var s,o="";i(),e({url:function(){return s},frameUrl:function(){return o}})})});provide("dom/get",function(e){using("util/util",function(t){function n(e,t,n){return i(e,t,n,1)[0]}function r(e,n,i){var s=n&&n.parentNode,o;if(!s||s===i)return;return s.tagName==e?s:(o=s.className.split(" "),0===e.indexOf(".")&&~t.indexOf(o,e.slice(1))?s:r(e,s,i))}var i=function(){var e=document.getElementsByClassName;return t.isNative(e)?function(n,r,i,s){var o=r?r.getElementsByClassName(n):e.call(document,n),u=t.filter(o,function(e){return!i||e.tagName.toLowerCase()==i.toLowerCase()});return[].slice.call(u,0,s||u.length)}:function(e,n,r,i){var s,o,u=[],a,f,l,c,h,p;n=n||document,a=e.split(" "),c=a.length,s=n.getElementsByTagName(r||"*"),p=s.length;for(l=0;l<c&&p>0;l++){u=[],f=a[l];for(h=0;h<p;h++){o=s[h],~t.indexOf(o.className.split(" "),f)&&u.push(o);if(l+1==c&&u.length===i)break}s=u,p=s.length}return u}}();e({all:i,one:n,ancestor:r})})});provide("dom/classname",function(e){function t(e){return new RegExp("\\b"+e+"\\b","g")}function n(e,n){if(e.classList){e.classList.add(n);return}t(n).test(e.className)||(e.className+=" "+n)}function r(e,n){if(e.classList){e.classList.remove(n);return}e.className=e.className.replace(t(n)," ")}function i(e,t,i){return e.classList&&e.classList.toggle?e.classList.toggle(t,i):(i?n(e,t):r(e,t),i)}function s(e,i,s){if(e.classList&&o(e,i)){r(e,i),n(e,s);return}e.className=e.className.replace(t(i),s)}function o(e,n){return e.classList?e.classList.contains(n):t(n).test(e.className)}e({add:n,remove:r,replace:s,toggle:i,present:o})});provide("util/throttle",function(e){function t(e,t,n){function r(){var n=+(new Date);window.clearTimeout(o);if(n-s>t){s=n,e.call(i);return}o=window.setTimeout(r,t)}var i=n||this,s=0,o;return r}e(t)});provide("util/logger",function(e){function t(e,t,n,r,i){window[u]&&window[u].log&&window[u].log(e,t,n,r,i)}function n(e,t,n,r,i){window[u]&&window[u].warn&&window[u].warn(e,t,n,r,i)}function r(e,t,n,r,i){window[u]&&window[u].error&&window[u].error(e,t,n,r,i)}function i(e){if(!f)return;a[e]=o()}function s(e){var n;if(!f)return;a[e]?(n=o(),t("_twitter",e,n-a[e])):r("timeEnd() called before time() for id: ",e)}function o(){return window.performance&&+window.performance.now()||+(new Date)}var u=["con","sole"].join(""),a={},f=!!~location.href.indexOf("tw_debug=true");e({info:t,warn:n,error:r,time:i,timeEnd:s})});provide("util/domready",function(e){function t(){n=1;for(var e=0,t=r.length;e<t;e++)r[e]()}var n=0,r=[],i,s,o=!1,u=document.createElement("a"),a="DOMContentLoaded",f="addEventListener",l="onreadystatechange",c;/^loade|c/.test(document.readyState)&&(n=1),document[f]&&document[f](a,s=function(){document.removeEventListener(a,s,o),t()},o),u.doScroll&&document.attachEvent(l,i=function(){/^c/.test(document.readyState)&&(document.detachEvent(l,i),t())}),c=u.doScroll?function(e){window.self!=window.top?n?e():r.push(e):!function(){try{u.doScroll("left")}catch(t){return setTimeout(function(){c(e)},50)}e()}()}:function(e){n?e():r.push(e)},e(c)});provide("util/env",function(e){using("util/domready","util/typevalidator","util/logger","tfw/util/globals",function(t,n,r,i){function s(e){return e=e||window,e.devicePixelRatio?e.devicePixelRatio>=1.5:e.matchMedia?e.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function o(e){return e=e||g,/(Trident|MSIE \d)/.test(e)}function u(e){return e=e||g,/MSIE 6/.test(e)}function a(e){return e=e||g,/MSIE 7/.test(e)}function f(e){return e=e||g,/MSIE 9/.test(e)}function l(e){return e=e||g,/(iPad|iPhone|iPod)/.test(e)}function c(e){return e=e||g,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(e)}function h(){return y}function p(e,t){return e=e||window,t=t||g,e.postMessage&&(!o(t)||!e.opener)}function d(e){e=e||navigator;try{return!!e.plugins["Shockwave Flash"]||!!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){return!1}}function v(e,t,n){return e=e||window,t=t||navigator,n=n||g,"ontouchstart"in e||/Opera Mini/.test(n)||t.msMaxTouchPoints>0}function m(){var e=document.body.style;return e.transition!==undefined||e.webkitTransition!==undefined||e.mozTransition!==undefined||e.oTransition!==undefined||e.msTransition!==undefined}var g=window.navigator.userAgent,y=!1,b=!1,w="twitter-csp-test";window.twttr=window.twttr||{},twttr.verifyCSP=function(e){var t=document.getElementById(w);b=!0,y=!!e,t&&t.parentNode.removeChild(t)},t(function(){var e;if(u()||a())return y=!1;if(n.asBoolean(i.val("widgets:csp")))return y=!0;e=document.createElement("script"),e.id=w,e.text="twttr.verifyCSP(false);",document.body.appendChild(e),window.setTimeout(function(){if(b)return;r.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),r.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied.")},5e3)}),e({retina:s,anyIE:o,ie6:u,ie7:a,ie9:f,ios:l,android:c,cspEnabled:h,flashEnabled:d,canPostMessage:p,touch:v,cssTransitions:m})})});provide("util/css",function(e){using("util/util",function(t){e({sanitize:function(e,n,r){var i=/^[\w ,%\/"'\-_#]+$/,s=e&&t.map(e.split(";"),function(e){return t.map(e.split(":").slice(0,2),function(e){return t.trim(e)})}),o=0,u,a=[],f=r?"!important":"";n=n||/^(font|text\-|letter\-|color|line\-)[\w\-]*$/;for(;s&&(u=s[o]);o++)u[0].match(n)&&u[1].match(i)&&a.push(u.join(":")+f);return a.join(";")}})})});provide("tfw/util/params",function(e){using("util/querystring","util/twitter",function(t,n){e(function(e,r){return function(i){var s,o="data-tw-params",u;if(!i)return;if(!n.isTwitterURL(i.href))return;if(i.getAttribute(o))return;i.setAttribute(o,!0);if(typeof r=="function"){s=r.call(this,i);for(u in s)s.hasOwnProperty(u)&&(e[u]=s[u])}i.href=t.url(i.href,e)}})})});provide("util/iframe",function(e){using("util/util",function(t){e(function(e,n,r){var i;r=r||document,e=e||{},n=n||{};if(e.name){try{i=r.createElement('<iframe name="'+e.name+'"></iframe>')}catch(s){i=r.createElement("iframe"),i.name=e.name}delete e.name}else i=r.createElement("iframe");return e.id&&(i.id=e.id,delete e.id),i.allowtransparency="true",i.scrolling="no",i.setAttribute("frameBorder",0),i.setAttribute("allowTransparency",!0),t.forIn(e,function(e,t){i.setAttribute(e,t)}),t.forIn(n,function(e,t){i.style[e]=t}),i})})});provide("util/params",function(e){using("util/querystring",function(t){var n,r,i;n=function(e){var n=e.search.substr(1);return t.decode(n)},r=function(e){var n=e.href,r=n.indexOf("#"),i=r<0?"":n.substring(r+1);return t.decode(i)},i=function(e){var t={},i=n(e),s=r(e),o;for(o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);for(o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);return t},e({combined:i,fromQuery:n,fromFragment:r})})});provide("tfw/util/env",function(e){using("util/params",function(t){function n(){var e=36e5,n=t.combined(document.location)._;return r!==undefined?r:(r=!1,n&&/^\d+$/.test(n)&&(r=+(new Date)-parseInt(n)<e),r)}var r;e({isDynamicWidget:n})})});provide("util/promise",function(e){using("util/util",function(t){var n=function(e){try{var t=e.then;if(typeof t=="function")return!0}catch(n){}return!1},r=function(e){Error.call(this,e)};r.prototype=t.createObject(Error.prototype);var i=function(){var e=[];return e.pump=function(n){t.async(function(){var t=e.length,r=0;while(r<t)r++,e.shift()(n)})},e},s=function(e,r,i,s,o,u){var a=!1,f=this,l=function(e){t.async(function(){u("fulfilled"),s(e),r.pump(e)})},c=function(e){t.async(function(){u("rejected"),o(e),i.pump(e)})},h=function(e){if(n(e)){e.then(h,c);return}l(e)},p=function(e){return function(t){a||(a=!0,e(t))}};this.resolve=p(h,"resolve"),this.fulfill=p(l,"fulfill"),this.reject=p(c,"reject"),this.cancel=function(){f.reject(new Error("Cancel"))},this.timeout=function(){f.reject(new Error("Timeout"))},u("pending")},o=function(e){var t=new i,n=new i,r,o,u="pending";this._addAcceptCallback=function(e){t.push(e),u=="fulfilled"&&t.pump(r)},this._addRejectCallback=function(e){n.push(e),u=="rejected"&&n.pump(o)};var a=new s(this,t,n,function(e){r=e},function(e){o=e},function(e){u=e});try{e&&e(a)}catch(f){a.reject(f)}},u=function(e){return typeof e=="function"},a=function(e,n,r){return u(e)?function(){try{var t=e.apply(null,arguments);n.resolve(t)}catch(r){n.reject(r)}}:t.bind(n[r],n)},f=function(e,t,n){return u(e)&&n._addAcceptCallback(e),u(t)&&n._addRejectCallback(t),n};t.aug(o.prototype,{then:function(e,t){var n=this;return new o(function(r){f(a(e,r,"resolve"),a(t,r,"reject"),n)})},"catch":function(e){var t=this;return new o(function(n){f(null,a(e,n,"reject"),t)})}}),o.isThenable=n;var l=function(e){return t.map(e,o.resolve)};o.any=function(){var e=l(arguments);return new o(function(n){if(!e.length)n.reject("No futures passed to Promise.any()");else{var r=!1,i=function(e){if(r)return;r=!0,n.resolve(e)},s=function(e){if(r)return;r=!0,n.reject(e)};t.forEach(e,function(e){e.then(i,s)})}})},o.every=function(){var e=l(arguments);return new o(function(n){if(!e.length)n.reject("No futures passed to Promise.every()");else{var r=new Array(e.length),i=0,s=function(t,s){i++,r[t]=s,i==e.length&&n.resolve(r)};t.forEach(e,function(e,r){e.then(t.bind(s,null,[r]),n.reject)})}})},o.some=function(){var e=l(arguments);return new o(function(n){if(!e.length)n.reject("No futures passed to Promise.some()");else{var r=0,i=function(){r++,r==e.length&&n.reject()};t.forEach(e,function(e){e.then(n.resolve,i)})}})},o.fulfill=function(e){return new o(function(t){t.fulfill(e)})},o.resolve=function(e){return new o(function(t){t.resolve(e)})},o.reject=function(e){return new o(function(t){t.reject(e)})},e(o)})});provide("util/donottrack",function(e){using("tfw/util/globals",function(t){e(function(e,n){var r=/\.(gov|mil)(:\d+)?$/i,i=/https?:\/\/([^\/]+).*/i;return e=e||document.referrer,e=i.test(e)&&RegExp.$1,n=n||document.location.host,t.dnt()?!0:r.test(n)?!0:e&&r.test(e)?!0:document.navigator?document.navigator["doNotTrack"]==1:navigator?navigator["doNotTrack"]==1||navigator["msDoNotTrack"]==1:!1})})});provide("sandbox/baseframe",function(e){using("util/domready","util/env","util/iframe","util/promise","util/util",function(t,n,r,i,s){function o(e,t,n,o){var u;this.readyPromise=new i(s.bind(function(e){this.resolver=e},this)),this.attrs=e||{},this.styles=t||{},this.appender=n||function(e){document.body.appendChild(e)},this.layout=o||function(e){return new i(function(t){return t.fulfill(e())})},this.frame=u=r(this.attrs,this.styles),u.onreadystatechange=u.onload=this.getCallback(this.onLoad),this.layout(s.bind(function(){this.appender(u)},this))}var u=0;window.twttr=window.twttr||{},window.twttr.sandbox=window.twttr.sandbox||{},o.prototype.getCallback=function(e){var t=this,n=!1;return function(){n||(n=!0,e.call(t))}},o.prototype.registerCallback=function(e){var t="cb"+u++;return window.twttr.sandbox[t]=e,t},o.prototype.onLoad=function(){try{this.document=this.frame.contentWindow.document}catch(e){this.setDocDomain();return}this.writeStandardsDoc(),this.resolver.fulfill(this)},o.prototype.ready=function(){return this.readyPromise},o.prototype.setDocDomain=function(){var e=r(this.attrs,this.styles),t=this.registerCallback(this.getCallback(this.onLoad));e.src=["javascript:",'document.write("");',"try { window.parent.document; }","catch (e) {",'document.domain="'+document.domain+'";',"}",'window.parent.twttr.sandbox["'+t+'"]();'].join(""),this.layout(s.bind(function(){this.frame.parentNode.removeChild(this.frame),this.frame=null,this.appender?this.appender(e):document.body.appendChild(e),this.frame=e},this))},o.prototype.writeStandardsDoc=function(){if(!n.anyIE()||n.cspEnabled())return;var e=["<!DOCTYPE html>","<html>","<head>","<scr","ipt>","try { window.parent.document; }",'catch (e) {document.domain="'+document.domain+'";}',"</scr","ipt>","</head>","<body></body>","</html>"].join("");this.document.write(e),this.document.close()},e(o)})});provide("sandbox/minimal",function(e){using("sandbox/baseframe","util/env","util/promise","util/util",function(t,n,r,i){function s(e,t){if(!e)return;this._frame=e,this._win=e.contentWindow,this._doc=this._win.document,this._body=this._doc.body,this._head=this._body.parentNode.children[0],this.layout=t}i.aug(s.prototype,{createElement:function(e){return this._doc.createElement(e)},createDocumentFragment:function(){return this._doc.createDocumentFragment()},appendChild:function(e){return this.layout(i.bind(function(){return this._body.appendChild(e)},this))},setBaseTarget:function(e){var t=this._doc.createElement("base");return t.target=e,this.layout(i.bind(function(){return this._head.appendChild(t)},this))},setTitle:function(e){if(!e)return;this._frame.title=e},element:function(){return this._frame},document:function(){return this._doc}}),s.createSandbox=function(e,n,r,i){var o=new t(e,n,r,i);return o.ready().then(function(e){return new s(e.frame,e.layout)})},e(s)})});provide("dom/cookie",function(e){using("util/util",function(t){e(function(e,n,r){var i=t.aug({},r),s,o,u,a;if(arguments.length>1&&String(n)!=="[object Object]"){if(n===null||n===undefined)i.expires=-1;return typeof i.expires=="number"&&(s=i.expires,o=new Date((new Date).getTime()+s*60*1e3),i.expires=o),n=String(n),document.cookie=[encodeURIComponent(e),"=",i.raw?n:encodeURIComponent(n),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}return i=n||{},a=i.raw?function(e){return e}:decodeURIComponent,(u=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?a(u[1]):null})})});provide("tfw/util/tracking",function(e){using("dom/cookie","dom/delegate","sandbox/minimal","util/donottrack","util/promise","util/querystring","tfw/util/env","util/iframe","util/util","$xd/json2.js",function(t,n,r,i,s,o,u,a,f){function l(){return P?P:P=r.createSandbox({id:"rufous-sandbox"},{display:"none"}).then(f.bind(function(e){D=e,A=E(),O=S();while(M[0])m.apply(this,M.shift());return _?g():[A,O]},this))}function c(e,t,n,r){var i=!f.isObject(e),s=t?!f.isObject(t):!1,o,u;if(i||s)return;o=b(e),u=w(t,!!n,!!r),v(o,u,!0)}function h(e,t,n,r,i){var s=p(e.target||e.srcElement);s.action=i||"click",c(s,t,n,r)}function p(e,t){var n;return t=t||{},!e||e.nodeType!==1?t:((n=e.getAttribute("data-scribe"))&&f.forEach(n.split(" "),function(e){var n=f.trim(e).split(":"),r=n[0],i=n[1];r&&i&&!t[r]&&(t[r]=i)}),p(e.parentNode,t))}function d(e,t,n){var r=C+t;if(!e)return;return e[r]=n,e}function v(e,t,n){var r,i,s,u,a;if(!f.isObject(e)||!f.isObject(t))return;s=f.aug({},t,{event_namespace:e}),n?(u={l:N(s)},s.dnt&&(u.dnt=1),x(o.url(H,u))):(r=A.firstChild,r.value=+(+r.value||s.dnt||0),a=N(s),i=D.createElement("input"),i.type="hidden",i.name="l",i.value=a,A.appendChild(i))}function m(e,t,n,r){var i=!f.isObject(e),s=t?!f.isObject(t):!1,o,u;if(i||s)return;if(!D||!A){M.push([e,t,n,r]);return}o=b(e),u=w(t,!!n,!!r),v(o,u)}function g(){if(!A)return _=!0,P||s.reject();if(A.children.length<=2)return s.reject();var e=s.every(D.appendChild(A),D.appendChild(O)).then(function(e){var t=e[0],r=e[1];return n.on(r,"load",function(){window.setTimeout(y(t,r),0)}),t.submit(),e});return A=E(),O=S(),e}function y(e,t){return function(){var n=e.parentNode;if(!n)return;n.removeChild(e),n.removeChild(t)}}function b(e){return f.aug({client:"tfw"},e||{})}function w(e,t,n){var r={_category_:"tfw_client_event"},s,o;t=!!t,n=!!n,s=f.aug(r,e||{}),o=s.widget_origin||document.referrer,s.format_version=1,s.triggered_on=s.triggered_on||+(new Date),t||(s.widget_origin=o);if(n||i(o))s.dnt=!0,T(s);return s}function E(){var e=D.createElement("form"),t=D.createElement("input"),n=D.createElement("input");return L++,e.action=H,e.method="POST",e.target="rufous-frame-"+L,e.id="rufous-form-"+L,t.type="hidden",t.name="dnt",t.value=0,n.type="hidden",n.name="tfw_redirect",n.value=B,e.appendChild(t),e.appendChild(n),e}function S(){var e="rufous-frame-"+L;return a({id:e,name:e,width:0,height:0,border:0},{display:"none"},D.document())}function x(e){var t=new Image;t.src=e}function T(e){f.forIn(e,function(t){~f.indexOf(k,t)&&delete e[t]})}function N(e){var t=Array.prototype.toJSON,n;return delete Array.prototype.toJSON,n=JSON.stringify(e),t&&(Array.prototype.toJSON=t),n}var C="twttr_",k=["hask","li","logged_in","pid","user_id","guest_id",C+"hask",C+"li",C+"pid"],L=0,A,O,M=[],_,D,P,H="https://twitter.com/i/jot",B="https://platform.twitter.com/jot.html";e({enqueue:m,flush:g,initPostLogging:l,scribeInteraction:h,extractTermsFromDOM:p,addPixel:c,addVar:d})})});provide("tfw/util/media",function(e){using("dom/get","util/util","util/env",function(t,n,r){function i(e,t){return e==2||e==3&&+t===0}function s(e){var t=e.split(" ");this.url=decodeURIComponent(n.trim(t[0])),this.width=+n.trim(t[1].replace(/w$/,""))}function o(e,t,r){var i,o,u,a;e=window.devicePixelRatio?e*window.devicePixelRatio:e,o=n.map(t.split(","),function(e){return new s(e)});if(r)for(a=0;a<o.length;a++)o[a].url===r&&(i=o[a]);return u=n.reduce(o,function(t,n){return n.width<t.width&&n.width>=e?n:t},o[0]),i&&i.width>u.width?i:u}function u(e,t){var n=e.getAttribute("data-srcset"),r=e.src,i;n&&(i=o(t,n,r),e.src=i.url)}function a(e,t){t=t||r.retina();if(!t)return;n.forEach(e.getElementsByTagName("IMG"),function(e){var t=e.getAttribute("data-src-2x");t&&(e.src=t)})}function f(e,r,s,o){var a=0,f=s?600:375,d=t.one("multi-photo",e,"DIV"),v=d&&+d.getAttribute("data-photo-count");if(!e)return;return n.forEach(t.all("autosized-media",e),function(e){var t=l(e.getAttribute("data-width"),e.getAttribute("data-height"),r,f);o(function(){u(e,r),e.width=t.width,e.height=t.height}),a=t.height>a?t.height:a}),n.forEach(t.all("cropped-media",e,"IMG"),function(e){var t=r-12,n=e.parentNode,s=e.getAttribute("data-crop-x")||0,d=e.getAttribute("data-crop-y")||0,m,g,y=i(v,e.getAttribute("data-image-index")),b=Math.floor(t/2-c),w=Math.floor(b/(y?h:p)),E;y||(w-=c/2),E=l(e.getAttribute("data-width"),e.getAttribute("data-height"),b,f,b,w),m=E.width-b-s,g=E.height-w-d,m<0&&Math.max(0,s+=m),g<0&&Math.max(0,d+=g),o(function(){u(e,b),e.width=E.width,e.height=E.height,n.style.width=b-1+"px",n.style.height=w+"px",s&&(e.style.marginLeft="-"+Math.floor(E.width*s/100)+"px"),d&&(e.style.marginTop="-"+Math.floor(E.height*d/100)+"px")}),a=E.height*(y?2:1)>a?E.height:a}),a}function l(e,t,n,r,i,s){return n=n||e,r=r||t,i=i||0,s=s||0,e>n&&(t*=n/e,e=n),t>r&&(e*=r/t,t=r),e<i&&(t*=i/e,e=i),t<s&&(e*=s/t,t=s),{width:Math.floor(e),height:Math.floor(t)}}var c=6,h=8/9,p=16/9;e({scaleDimensions:l,retinize:a,constrainMedia:f,__setSrcFromSet:u})})});provide("tfw/util/data",function(e){using("util/logger","util/util","util/querystring",function(t,n,r){function i(e){return function(n){n.error?e.error&&e.error(n):n.headers&&n.headers.status!=200?(e.error&&e.error(n),t.warn(n.headers.message)):e.success&&e.success(n),e.complete&&e.complete(n),s(e)}}function s(e){var t=e.script;t&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),e.script=undefined,t=undefined),e.callbackName&&twttr.tfw.callbacks[e.callbackName]&&delete twttr.tfw.callbacks[e.callbackName]}function o(e){var t={};return e.success&&n.isType("function",e.success)&&(t.success=e.success),e.error&&n.isType("function",e.error)&&(t.error=e.error),e.complete&&n.isType("function",e.complete)&&(t.complete=e.complete),t}window.twttr=window.twttr||{},twttr.tfw=twttr.tfw||{},twttr.tfw.callbacks=twttr.tfw.callbacks||{};var u="twttr.tfw.callbacks",a=twttr.tfw.callbacks,f="cb",l=0,c=!1,h={},p={tweets:"https://syndication.twitter.com/tweets.json",timeline:"https://cdn.syndication.twimg.com/widgets/timelines/",timelinePoll:"https://syndication.twitter.com/widgets/timelines/paged/",timelinePreview:"https://syndication.twitter.com/widgets/timelines/preview/"};twttr.widgets&&twttr.widgets.endpoints&&n.aug(p,twttr.widgets.endpoints),h.jsonp=function(e,t,n){var s=n||f+l,o=u+"."+s,h=document.createElement("script"),p={callback:o,suppress_response_codes:!0};a[s]=i(t);if(c||!/^https?\:$/.test(window.location.protocol))e=e.replace(/^\/\//,"https://");h.src=r.url(e,p),h.async="async",document.body.appendChild(h),t.script=h,t.callbackName=s,n||l++},h.config=function(e){if(e.forceSSL===!0||e.forceSSL===!1)c=e.forceSSL},h.tweets=function(e){var t=arguments[0],n=o(t),i={ids:e.ids.join(","),lang:e.lang},s=r.url(p.tweets,i);this.jsonp(s,n)},h.timeline=function(e){var t=arguments[0],i=o(t),s,u=9e5,a=Math.floor(+(new Date)/u),f={lang:e.lang,t:a,domain:window.location.host,dnt:e.dnt,override_type:e.overrideType,override_id:e.overrideId,override_name:e.overrideName,override_owner_id:e.overrideOwnerId,override_owner_name:e.overrideOwnerName,with_replies:e.withReplies};n.compact(f),s=r.url(p.timeline+e.id,f),this.jsonp(s,i,"tl_"+e.id+"_"+e.instanceId)},h.timelinePoll=function(e){var t=arguments[0],i=o(t),s={lang:e.lang,since_id:e.sinceId,max_id:e.maxId,min_position:e.minPosition,max_position:e.maxPosition,domain:window.location.host,dnt:e.dnt,override_type:e.overrideType,override_id:e.overrideId,override_name:e.overrideName,override_owner_id:e.overrideOwnerId,override_owner_name:e.overrideOwnerName,with_replies:e.withReplies},u;n.compact(s),u=r.url(p.timelinePoll+e.id,s),this.jsonp(u,i,"tlPoll_"+e.id+"_"+e.instanceId+"_"+(e.sinceId||e.maxId||e.maxPosition||e.minPosition))},h.timelinePreview=function(e){var t=arguments[0],n=o(t),i=e.params,s=r.url(p.timelinePreview,i);this.jsonp(s,n)},e(h)})});provide("anim/transition",function(e){function t(e,t){var n;return t=t||window,n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(){t.setTimeout(function(){e(+(new Date))},1e3/60)},n(e)}function n(e,t){return Math.sin(Math.PI/2*t)*e}function r(e,n,r,i,s){function o(){var a=+(new Date),f=a-u,l=Math.min(f/r,1),c=i?i(n,l):n*l;e(c);if(l==1)return;t(o,s)}var u=+(new Date);t(o)}e({animate:r,requestAnimationFrame:t,easeOut:n})});provide("util/datetime",function(e){using("util/util",function(t){function n(e){return e<10?"0"+e:e}function r(e){function t(e,t){return i&&i[e]&&(e=i[e]),e.replace(/%\{([\w_]+)\}/g,function(e,n){return t[n]!==undefined?t[n]:e})}var i=e&&e.phrases,s=e&&e.months||u,o=e&&e.formats||a;this.timeAgo=function(e){var n=r.parseDate(e),i=+(new Date),u=i-n,a;return n?isNaN(u)||u<f*2?t("now"):u<l?(a=Math.floor(u/f),t(o.abbr,{number:a,symbol:t(p,{abbr:t("s"),expanded:a>1?t("seconds"):t("second")})})):u<c?(a=Math.floor(u/l),t(o.abbr,{number:a,symbol:t(p,{abbr:t("m"),expanded:a>1?t("minutes"):t("minute")})})):u<h?(a=Math.floor(u/c),t(o.abbr,{number:a,symbol:t(p,{abbr:t("h"),expanded:a>1?t("hours"):t("hour")})})):u<h*365?t(o.shortdate,{day:n.getDate(),month:t(s[n.getMonth()])}):t(o.longdate,{day:n.getDate(),month:t(s[n.getMonth()]),year:n.getFullYear().toString().slice(2)}):""},this.localTimeStamp=function(e){var i=r.parseDate(e),u=i&&i.getHours();return i?t(o.full,{day:i.getDate(),month:t(s[i.getMonth()]),year:i.getFullYear(),hours24:n(u),hours12:u<13?u?u:"12":u-12,minutes:n(i.getMinutes()),seconds:n(i.getSeconds()),amPm:u<12?t("AM"):t("PM")}):""}}var i=/(\d{4})-?(\d{2})-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})(Z|[\+\-]\d{2}:?\d{2})/,s=/[a-z]{3,4} ([a-z]{3}) (\d{1,2}) (\d{1,2}):(\d{2}):(\d{2}) ([\+\-]\d{2}:?\d{2}) (\d{4})/i,o=/^\d+$/,u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a={abbr:"%{number}%{symbol}",shortdate:"%{day} %{month}",longdate:"%{day} %{month} %{year}",full:"%{hours12}:%{minutes} %{amPm} - %{day} %{month} %{year}"},f=1e3,l=f*60,c=l*60,h=c*24,p='<abbr title="%{expanded}">%{abbr}</abbr>';r.parseDate=function(e){var n=e||"",r=n.toString(),a,f;return a=function(){var e;if(o.test(r))return parseInt(r,10);if(e=r.match(s))return Date.UTC(e[7],t.indexOf(u,e[1]),e[2],e[3],e[4],e[5]);if(e=r.match(i))return Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6])}(),a?(f=new Date(a),!isNaN(f.getTime())&&f):!1},e(r)})});provide("sandbox/frame",function(e){using("sandbox/baseframe","sandbox/minimal","util/env","util/promise","util/util",function(t,n,r,i,s){function o(){var e,t;c={};if(h)return;e=document.body.offsetHeight,t=document.body.offsetWidth;if(e==d&&t==p)return;s.forEach(l,function(e){e.dispatchFrameResize(p,d)}),d=e,p=t}function u(e){var t;return e.id?e.id:(t=e.getAttribute("data-twttr-id"))?t:(t="twttr-sandbox-"+f++,e.setAttribute("data-twttr-id",t),t)}function a(e,t){n.apply(this,[e,t]),this._resizeHandlers=[],l.push(this),this._win.addEventListener?this._win.addEventListener("resize",s.bind(function(){this.dispatchFrameResize()},this),!0):this._win.attachEvent("onresize",s.bind(function(){this.dispatchFrameResize(this._win.event)},this))}var f=0,l=[],c={},h,p=0,d=0;window.addEventListener?window.addEventListener("resize",o,!0):document.body.attachEvent("onresize",function(){o(window.event)}),a.prototype=new n,s.aug(a.prototype,{dispatchFrameResize:function(){var e=this._frame.parentNode,t=u(e),n=c[t];h=!0;if(!this._resizeHandlers.length)return;n||(n=c[t]={w:this._frame.offsetWidth,h:this._frame.offsetHeight});if(this._frameWidth==n.w&&this._frameHeight==n.h)return;this._frameWidth=n.w,this._frameHeight=n.h,s.forEach(this._resizeHandlers,function(e){e(n.w,n.h)}),window.setTimeout(function(){c={}},50)},appendStyleSheet:function(e){var t=this._doc.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,this.layout(s.bind(function(){return this._head.appendChild(t)},this))},appendCss:function(e){var t;return r.cspEnabled()?i.reject("CSP enabled; cannot embed inline styles."):(t=this._doc.createElement("style"),t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(this._doc.createTextNode(e)),this.layout(s.bind(function(){return this._head.appendChild(t)},this)))},style:function(e){return this.layout(s.bind(function(){s.forIn(e,s.bind(function(e,t){this._frame.style[e]=t},this))},this))},onresize:function(e){this._resizeHandlers.push(e)},width:function(e){return e!==undefined&&(this._frame.style.width=e+"px"),r.ios()?Math.min(this._frame.parentNode.offsetWidth,this._frame.offsetWidth):this._frame.offsetWidth},height:function(e){return e!==undefined&&(this._frame.height=e),this._frame.offsetHeight}}),a.createSandbox=function(e,n,r,i){var s=new t(e,n,r,i);return s.ready().then(function(e){return new a(e.frame,e.layout)})},e(a)})});provide("tfw/util/assets",function(e){using("util/env",function(t){function n(e,n){var i=r[e],s;return t.retina()?s="2x":t.ie6()||t.ie7()?s="gif":s="default",n&&(s+=".rtl"),i[s]}var r={"embed/timeline.css":{"default":"embed/timeline.295a00bf5122128e332d25515711dbbd.default.css","2x":"embed/timeline.295a00bf5122128e332d25515711dbbd.2x.css",gif:"embed/timeline.295a00bf5122128e332d25515711dbbd.gif.css","default.rtl":"embed/timeline.295a00bf5122128e332d25515711dbbd.default.rtl.css","2x.rtl":"embed/timeline.295a00bf5122128e332d25515711dbbd.2x.rtl.css","gif.rtl":"embed/timeline.295a00bf5122128e332d25515711dbbd.gif.rtl.css"}};e(n)})});provide("util/layout",function(e){using("util/promise",function(t){function n(){}var r=[],i;n.prototype.enqueue=function(e,n){return new t(function(t){r.push({action:e,resolver:t,note:n})})},n.prototype.exec=function(){var e=r,t;if(!e.length)return;r=[];while(e.length)t=e.shift(),t&&t.action?t.resolver.fulfill(t.action()):t.resolver.reject()},n.prototype.delayedExec=function(){i&&window.clearTimeout(i),i=window.setTimeout(this.exec,100)},e(n)})});provide("tfw/widget/base",function(e){using("dom/get","util/domready","util/iframe","util/layout","util/promise","util/querystring","util/typevalidator","util/util","tfw/util/globals","util/logger",function(t,n,r,i,s,o,u,a,f,l){function c(e){var t;if(!e)return;e.ownerDocument?(this.srcEl=e,this.classAttr=e.className.split(" ")):(this.srcOb=e,this.classAttr=[]),t=this.params(),this.id=this.generateId(),this.setLanguage(),this.related=t.related||this.dataAttr("related"),this.partner=t.partner||this.dataAttr("partner")||f.val("partner"),this.dnt=t.dnt||this.dataAttr("dnt")||f.dnt()||"",this.styleAttr=[],this.targetEl=e.targetEl,this.completePromise=new s(a.bind(function(e){this.completeResolver=e},this)),this.completed().then(function(e){if(!e||e==document.body)return;twttr.events.trigger("rendered",{target:e})})}function h(){a.forEach(g,function(e){e()}),c.doLayout()}function p(e){if(!e)return;return e.lang?e.lang:p(e.parentNode)}var d=0,v,m={list:[],byId:{}},g=[],y=new i,b="data-twttr-rendered",w={ar:{"%{followers_count} followers":"Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† %{followers_count}","100K+":"+100 Ø£Ù„Ù","10k unit":"10 Ø¢Ù„Ø§Ù ÙˆØ­Ø¯Ø©",Follow:"ØªØ§Ø¨ÙØ¹","Follow %{screen_name}":"ØªØ§Ø¨ÙØ¹ %{screen_name}",K:"Ø£Ù„Ù",M:"Ù…",Tweet:"ØºØ±ÙÙ‘Ø¯","Tweet %{hashtag}":"ØºØ±ÙÙ‘Ø¯ %{hashtag}","Tweet to %{name}":"ØºØ±ÙÙ‘Ø¯ Ù„Ù€ %{name}"},da:{"%{followers_count} followers":"%{followers_count} fÃ¸lgere","10k unit":"10k enhed",Follow:"FÃ¸lg","Follow %{screen_name}":"FÃ¸lg %{screen_name}","Tweet to %{name}":"Tweet til %{name}"},de:{"%{followers_count} followers":"%{followers_count} Follower","100K+":"100Tsd+","10k unit":"10tsd-Einheit",Follow:"Folgen","Follow %{screen_name}":"%{screen_name} folgen",K:"Tsd",Tweet:"Twittern","Tweet to %{name}":"Tweet an %{name}"},es:{"%{followers_count} followers":"%{followers_count} seguidores","10k unit":"unidad de 10 mil",Follow:"Seguir","Follow %{screen_name}":"Seguir a %{screen_name}",Tweet:"Twittear","Tweet %{hashtag}":"Twittear %{hashtag}","Tweet to %{name}":"Twittear a %{name}"},fa:{"%{followers_count} followers":"%{followers_count} Ø¯Ù†Ø¨Ø§Ù„â€ŒÚ©Ù†Ù†Ø¯Ù‡","100K+":">Û±Û°Û°Ù‡Ø²Ø§Ø±","10k unit":"Û±Û°Ù‡Ø²Ø§Ø± ÙˆØ§Ø­Ø¯",Follow:"Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù†","Follow %{screen_name}":"Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù† %{screen_name}",K:"Ù‡Ø²Ø§Ø±",M:"Ù…ÛŒÙ„ÛŒÙˆÙ†",Tweet:"ØªÙˆÛŒÛŒØª","Tweet %{hashtag}":"ØªÙˆÛŒÛŒØª Ú©Ø±Ø¯Ù† %{hashtag}","Tweet to %{name}":"Ø¨Ù‡ %{name} ØªÙˆÛŒÛŒØª Ú©Ù†ÛŒØ¯"},fi:{"%{followers_count} followers":"%{followers_count} seuraajaa","100K+":"100 000+","10k unit":"10 000 yksikkÃ¶Ã¤",Follow:"Seuraa","Follow %{screen_name}":"Seuraa kÃ¤yttÃ¤jÃ¤Ã¤ %{screen_name}",K:"tuhatta",M:"milj.",Tweet:"Twiittaa","Tweet %{hashtag}":"Twiittaa %{hashtag}","Tweet to %{name}":"Twiittaa kÃ¤yttÃ¤jÃ¤lle %{name}"},fil:{"%{followers_count} followers":"%{followers_count} mga tagasunod","10k unit":"10k yunit",Follow:"Sundan","Follow %{screen_name}":"Sundan si %{screen_name}",Tweet:"I-tweet","Tweet %{hashtag}":"I-tweet ang %{hashtag}","Tweet to %{name}":"Mag-Tweet kay %{name}"},fr:{"%{followers_count} followers":"%{followers_count} abonnÃ©s","10k unit":"unitÃ© de 10k",Follow:"Suivre","Follow %{screen_name}":"Suivre %{screen_name}",Tweet:"Tweeter","Tweet %{hashtag}":"Tweeter %{hashtag}","Tweet to %{name}":"Tweeter Ã  %{name}"},he:{"%{followers_count} followers":"%{followers_count} ×¢×•×§×‘×™×","100K+":"×ž××•×ª ××œ×¤×™×","10k unit":"×¢×©×¨×•×ª ××œ×¤×™×",Follow:"×ž×¢×§×‘","Follow %{screen_name}":"×œ×¢×§×•×‘ ××—×¨ %{screen_name}",K:"××œ×£",M:"×ž×™×œ×™×•×Ÿ",Tweet:"×¦×™×•×¥","Tweet %{hashtag}":"×¦×™×™×¦×• %{hashtag}","Tweet to %{name}":"×¦×™×•×¥ ××œ %{name}"},hi:{"%{followers_count} followers":"%{followers_count} à¤«à¤¼à¥‰à¤²à¥‹à¤…à¤°à¥à¤¸","100K+":"1 à¤²à¤¾à¤–+","10k unit":"10 à¤¹à¤œà¤¾à¤° à¤‡à¤•à¤¾à¤ˆà¤¯à¤¾à¤‚",Follow:"à¤«à¤¼à¥‰à¤²à¥‹","Follow %{screen_name}":"%{screen_name} à¤•à¥‹ à¤«à¤¼à¥‰à¤²à¥‹ à¤•à¤°à¥‡à¤‚",K:"à¤¹à¤œà¤¾à¤°",M:"à¤®à¤¿à¤²à¤¿à¤¯à¤¨",Tweet:"à¤Ÿà¥à¤µà¥€à¤Ÿ","Tweet %{hashtag}":"à¤Ÿà¥à¤µà¥€à¤Ÿ %{hashtag}","Tweet to %{name}":"%{name} à¤•à¥‹ à¤Ÿà¥à¤µà¥€à¤Ÿ à¤•à¤°à¥‡à¤‚"},hu:{"%{followers_count} followers":"%{followers_count} kÃ¶vetÅ‘","100K+":"100E+","10k unit":"10E+",Follow:"KÃ¶vetÃ©s","Follow %{screen_name}":"%{screen_name} kÃ¶vetÃ©se",K:"E","Tweet %{hashtag}":"%{hashtag} tweetelÃ©se","Tweet to %{name}":"Tweet kÃ¼ldÃ©se neki: %{name}"},id:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikuti","Follow %{screen_name}":"Ikuti %{screen_name}",K:"&nbsp;ribu",M:"&nbsp;juta","Tweet to %{name}":"Tweet ke %{name}"},it:{"%{followers_count} followers":"%{followers_count} follower","10k unit":"10k unitÃ ",Follow:"Segui","Follow %{screen_name}":"Segui %{screen_name}","Tweet %{hashtag}":"Twitta %{hashtag}","Tweet to %{name}":"Twitta a %{name}"},ja:{"%{followers_count} followers":"%{followers_count}äººã®ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼","100K+":"100Kä»¥ä¸Š","10k unit":"ä¸‡",Follow:"ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹","Follow %{screen_name}":"%{screen_name}ã•ã‚“ã‚’ãƒ•ã‚©ãƒ­ãƒ¼",Tweet:"ãƒ„ã‚¤ãƒ¼ãƒˆ","Tweet %{hashtag}":"%{hashtag} ã‚’ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹","Tweet to %{name}":"%{name}ã•ã‚“ã¸ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹"},ko:{"%{followers_count} followers":"%{followers_count}ëª…ì˜ íŒ”ë¡œì›Œ","100K+":"100ë§Œ ì´ìƒ","10k unit":"ë§Œ ë‹¨ìœ„",Follow:"íŒ”ë¡œìš°","Follow %{screen_name}":"%{screen_name} ë‹˜ íŒ”ë¡œìš°í•˜ê¸°",K:"ì²œ",M:"ë°±ë§Œ",Tweet:"íŠ¸ìœ—","Tweet %{hashtag}":"%{hashtag} ê´€ë ¨ íŠ¸ìœ—í•˜ê¸°","Tweet to %{name}":"%{name} ë‹˜ì—ê²Œ íŠ¸ìœ—í•˜ê¸°"},msa:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikut","Follow %{screen_name}":"Ikut %{screen_name}",K:"ribu",M:"juta","Tweet to %{name}":"Tweet kepada %{name}"},nl:{"%{followers_count} followers":"%{followers_count} volgers","100K+":"100k+","10k unit":"10k-eenheid",Follow:"Volgen","Follow %{screen_name}":"%{screen_name} volgen",K:"k",M:" mln.",Tweet:"Tweeten","Tweet %{hashtag}":"%{hashtag} tweeten","Tweet to %{name}":"Tweeten naar %{name}"},no:{"%{followers_count} followers":"%{followers_count} fÃ¸lgere","100K+":"100 K+","10k unit":"10-K-enhet",Follow:"FÃ¸lg","Follow %{screen_name}":"FÃ¸lg %{screen_name}","Tweet to %{name}":"Send en tweet til %{name}"},pl:{"%{followers_count} followers":"%{followers_count} obserwujÄ…cych","100K+":"100 tys.+","10k unit":"10 tys.",Follow:"Obserwuj","Follow %{screen_name}":"Obserwuj %{screen_name}",K:"tys.",M:"mln",Tweet:"Tweetnij","Tweet %{hashtag}":"Tweetnij %{hashtag}","Tweet to %{name}":"Tweetnij do %{name}"},pt:{"%{followers_count} followers":"%{followers_count} seguidores","100K+":"+100 mil","10k unit":"10 mil unidades",Follow:"Seguir","Follow %{screen_name}":"Seguir %{screen_name}",K:"Mil",Tweet:"Tweetar","Tweet %{hashtag}":"Tweetar %{hashtag}","Tweet to %{name}":"Tweetar para %{name}"},ru:{"%{followers_count} followers":"Ð§Ð¸Ñ‚Ð°Ñ‚ÐµÐ»Ð¸: %{followers_count} ","100K+":"100 Ñ‚Ñ‹Ñ.+","10k unit":"Ð±Ð»Ð¾Ðº 10k",Follow:"Ð§Ð¸Ñ‚Ð°Ñ‚ÑŒ","Follow %{screen_name}":"Ð§Ð¸Ñ‚Ð°Ñ‚ÑŒ %{screen_name}",K:"Ñ‚Ñ‹Ñ.",M:"Ð¼Ð»Ð½.",Tweet:"Ð¢Ð²Ð¸Ñ‚Ð½ÑƒÑ‚ÑŒ","Tweet %{hashtag}":"Ð¢Ð²Ð¸Ñ‚Ð½ÑƒÑ‚ÑŒ %{hashtag}","Tweet to %{name}":"Ð¢Ð²Ð¸Ñ‚Ð½ÑƒÑ‚ÑŒ %{name}"},sv:{"%{followers_count} followers":"%{followers_count} fÃ¶ljare","10k unit":"10k",Follow:"FÃ¶lj","Follow %{screen_name}":"FÃ¶lj %{screen_name}",Tweet:"Tweeta","Tweet %{hashtag}":"Tweeta %{hashtag}","Tweet to %{name}":"Tweeta till %{name}"},th:{"%{followers_count} followers":"%{followers_count} à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¸²à¸¡","100K+":"100à¸žà¸±à¸™+","10k unit":"à¸«à¸™à¹ˆà¸§à¸¢ 10à¸žà¸±à¸™",Follow:"à¸•à¸´à¸”à¸•à¸²à¸¡","Follow %{screen_name}":"à¸•à¸´à¸”à¸•à¸²à¸¡ %{screen_name}",M:"à¸¥à¹‰à¸²à¸™",Tweet:"à¸—à¸§à¸µà¸•","Tweet %{hashtag}":"à¸—à¸§à¸µà¸• %{hashtag}","Tweet to %{name}":"à¸—à¸§à¸µà¸•à¸–à¸¶à¸‡ %{name}"},tr:{"%{followers_count} followers":"%{followers_count} takipÃ§i","100K+":"+100 bin","10k unit":"10 bin birim",Follow:"Takip et","Follow %{screen_name}":"Takip et: %{screen_name}",K:"bin",M:"milyon",Tweet:"Tweetle","Tweet %{hashtag}":"Tweetle: %{hashtag}","Tweet to %{name}":"Tweetle: %{name}"},ur:{"%{followers_count} followers":"%{followers_count} ÙØ§Ù„ÙˆØ±Ø²","100K+":"Ø§ÛŒÚ© Ù„Ø§Ú©Ú¾ Ø³Û’ Ø²ÛŒØ§Ø¯Û","10k unit":"Ø¯Ø³ ÛØ²Ø§Ø± ÛŒÙˆÙ†Ù¹",Follow:"ÙØ§Ù„Ùˆ Ú©Ø±ÛŒÚº","Follow %{screen_name}":"%{screen_name} Ú©Ùˆ ÙØ§Ù„Ùˆ Ú©Ø±ÛŒÚº",K:"ÛØ²Ø§Ø±",M:"Ù…Ù„ÛŒÙ†",Tweet:"Ù¹ÙˆÛŒÙ¹ Ú©Ø±ÛŒÚº","Tweet %{hashtag}":"%{hashtag} Ù¹ÙˆÛŒÙ¹ Ú©Ø±ÛŒÚº","Tweet to %{name}":"%{name} Ú©Ùˆ Ù¹ÙˆÛŒÙ¹ Ú©Ø±ÛŒÚº"},"zh-cn":{"%{followers_count} followers":"%{followers_count} å…³æ³¨è€…","100K+":"10ä¸‡+","10k unit":"1ä¸‡å•å…ƒ",Follow:"å…³æ³¨","Follow %{screen_name}":"å…³æ³¨ %{screen_name}",K:"åƒ",M:"ç™¾ä¸‡",Tweet:"å‘æŽ¨","Tweet %{hashtag}":"ä»¥ %{hashtag} å‘æŽ¨","Tweet to %{name}":"å‘æŽ¨ç»™ %{name}"},"zh-tw":{"%{followers_count} followers":"%{followers_count} ä½è·Ÿéš¨è€…","100K+":"è¶…éŽåè¬","10k unit":"1è¬ å–®ä½",Follow:"è·Ÿéš¨","Follow %{screen_name}":"è·Ÿéš¨ %{screen_name}",K:"åƒ",M:"ç™¾è¬",Tweet:"æŽ¨æ–‡","Tweet %{hashtag}":"æŽ¨æ–‡%{hashtag}","Tweet to %{name}":"æŽ¨æ–‡çµ¦%{name}"}};a.aug(c.prototype,{setLanguage:function(e){var t;e||(e=this.params().lang||this.dataAttr("lang")||p(this.srcEl)),e=e&&e.toLowerCase();if(!e)return this.lang="en";if(w[e])return this.lang=e;t=e.replace(/[\-_].*/,"");if(w[t])return this.lang=t;this.lang="en"},_:function(e,t){var n=this.lang;t=t||{};if(!n||!w.hasOwnProperty(n))n=this.lang="en";return e=w[n]&&w[n][e]||e,this.ringo(e,t,/%\{([\w_]+)\}/g)},ringo:function(e,t,n){return n=n||/\{\{([\w_]+)\}\}/g,e.replace(n,function(e,n){return t[n]!==undefined?t[n]:e})},add:function(e){m.list.push(this),m.byId[this.id]=e},create:function(e,t,n){var i=this,o;return n[b]=!0,o=r(a.aug({id:this.id,src:e,"class":this.classAttr.join(" ")},n),t,this.targetEl&&this.targetEl.ownerDocument),this.srcEl?this.layout(function(){return i.srcEl.parentNode.replaceChild(o,i.srcEl),i.completeResolver.fulfill(o),o}):this.targetEl?this.layout(function(){return i.targetEl.appendChild(o),i.completeResolver.fulfill(o),o}):s.reject("Did not append widget")},params:function(){var e,t;return this.srcOb?t=this.srcOb:(e=this.srcEl&&this.srcEl.href&&this.srcEl.href.split("?")[1],t=e?o.decode(e):{}),this.params=function(){return t},t},dataAttr:function(e){return this.srcEl&&this.srcEl.getAttribute("data-"+e)},attr:function(e){return this.srcEl&&this.srcEl.getAttribute(e)},layout:function(e){return y.enqueue(e)},styles:{base:[["font","normal normal normal 11px/18px 'Helvetica Neue', Arial, sans-serif"],["margin","0"],["padding","0"],["whiteSpace","nowrap"]],button:[["fontWeight","bold"],["textShadow","0 1px 0 rgba(255,255,255,.5)"]],large:[["fontSize","13px"],["lineHeight","26px"]],vbubble:[["fontSize","16px"]]},width:function(){throw new Error(name+" not implemented")},height:function(){return this.size=="m"?20:28},minWidth:function(){},maxWidth:function(){},minHeight:function(){},maxHeight:function(){},dimensions:function(){function e(e){switch(typeof e){case"string":return e;case"undefined":return;default:return e+"px"}}var t={width:this.width(),height:this.height()};return this.minWidth()&&(t["min-width"]=this.minWidth()),this.maxWidth()&&(t["max-width"]=this.maxWidth()),this.minHeight()&&(t["min-height"]=this.minHeight()),this.maxHeight()&&(t["max-height"]=this.maxHeight()),a.forIn(t,function(n,r){t[n]=e(r)}),t},generateId:function(){return this.srcEl&&this.srcEl.id||"twitter-widget-"+d++},completed:function(){return this.completePromise}}),c.afterLoad=function(e){g.push(e)},c.doLayout=function(){y.exec()},c.doLayoutAsync=function(){y.delayedExec()},c.init=function(e){v=e},c.find=function(e){return e&&m.byId[e]?m.byId[e].element:null},c.embed=function(e){var n=v.widgets,r=[],i=[],o=[];u.isArray(e)||(e=[e||document]),l.time("sandboxes"),a.forEach(e,function(e){a.forIn(n,function(n,i){var s,u;n.match(/\./)?(s=n.split("."),u=t.all(s[1],e,s[0])):u=e.getElementsByTagName(n),a.forEach(u,function(e){var t;if(e.getAttribute(b))return;e.setAttribute(b,"true"),t=new i(e),r.push(t),o.push(t.sandboxCreated)})})}),s.every.apply(null,o).then(function(){l.timeEnd("sandboxes")}),c.doLayout(),a.forEach(r,function(e){m.byId[e.id]=e,m.list.push(e),i.push(e.completed()),e.render(v)}),s.every.apply(null,i).then(function(e){e=a.filter(e,function(e){return e});if(!e.length)return;twttr.events.trigger("loaded",{widgets:e}),l.timeEnd("load")}),c.doLayoutAsync(),h()},window.setInterval(function(){c.doLayout()},500),e(c)})});provide("tfw/widget/intent",function(e){using("tfw/widget/base","util/util","util/querystring","util/uri","util/promise",function(t,n,r,i,s){function o(e){var t=Math.round(y/2-v/2),n=0;g>m&&(n=Math.round(g/2-m/2)),window.open(e,undefined,[d,"width="+v,"height="+m,"left="+t,"top="+n].join(","))}function u(e,t){using("tfw/hub/client",function(n){n.openIntent(e,t)})}function a(e){var t=~location.host.indexOf("poptip.com")?"https://poptip.com":location.href,n="original_referer="+t;return[e,n].join(e.indexOf("?")==-1?"?":"&")}function f(e){var t,r,i;e=e||window.event,t=e.target||e.srcElement;if(e.altKey||e.metaKey||e.shiftKey)return;while(t){if(~n.indexOf(["A","AREA"],t.nodeName))break;t=t.parentNode}t&&t.href&&(r=t.href.match(p),r&&(i=a(t.href),i=i.replace(/^http[:]/,"https:"),i=i.replace(/^\/\//,"https://"),l(i,t),e.returnValue=!1,e.preventDefault&&e.preventDefault()))}function l(e,t){if(twttr.events.hub&&t){var n=new c(b.generateId(),t);b.add(n),u(e,t),twttr.events.trigger("click",{target:t,region:"intent",type:"click",data:{}})}else o(e)}function c(e,t){this.id=e,this.element=this.srcEl=t}function h(e){this.srcEl=[],this.element=e}var p=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,d="scrollbars=yes,resizable=yes,toolbar=no,location=yes",v=550,m=520,g=screen.height,y=screen.width,b;h.prototype=new t,n.aug(h.prototype,{render:function(){return b=this,window.__twitterIntentHandler||(document.addEventListener?document.addEventListener("click",f,!1):document.attachEvent&&document.attachEvent("onclick",f),window.__twitterIntentHandler=!0),s.fulfill(document.body)}}),h.open=l,e(h)})});provide("tfw/widget/syndicatedbase",function(e){using("tfw/widget/base","tfw/widget/intent","tfw/util/assets","tfw/util/globals","tfw/util/media","tfw/util/tracking","dom/classname","dom/get","dom/delegate","sandbox/frame","util/env","util/promise","util/twitter","util/typevalidator","util/util",function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){function m(){x=g.VALID_COLOR.test(i.val("widgets:link-color"))&&RegExp.$1,N=g.VALID_COLOR.test(i.val("widgets:border-color"))&&RegExp.$1,T=i.val("widgets:theme")}function g(e){if(!e)return;var n;this.readyPromise=new h(v.bind(function(e){this.readyResolver=e},this)),this.renderedPromise=new h(v.bind(function(e){this.renderResolver=e},this)),t.apply(this,[e]),n=this.params(),this.targetEl=this.srcEl&&this.srcEl.parentNode||n.targetEl||document.body,this.predefinedWidth=g.VALID_UNIT.test(n.width||this.attr("width"))&&RegExp.$1,this.layout(v.bind(function(){return this.containerWidth=this.targetEl&&this.targetEl.offsetWidth},this)).then(v.bind(function(e){var t=this.predefinedWidth||e||this.dimensions.DEFAULT_WIDTH;this.height=g.VALID_UNIT.test(n.height||this.attr("height"))&&RegExp.$1,this.width=Math.max(this.dimensions.MIN_WIDTH,Math.min(t,this.dimensions.DEFAULT_WIDTH))},this)),g.VALID_COLOR.test(n.linkColor||this.dataAttr("link-color"))?this.linkColor=RegExp.$1:this.linkColor=x,g.VALID_COLOR.test(n.borderColor||this.dataAttr("border-color"))?this.borderColor=RegExp.$1:this.borderColor=N,this.theme=n.theme||this.attr("data-theme")||T,this.theme=/(dark|light)/.test(this.theme)?this.theme:"",this.classAttr.push(c.touch()?"is-touch":"not-touch"),c.ie9()&&this.classAttr.push("ie9"),this.sandboxCreated=l.createSandbox({"class":this.renderedClassNames,id:this.id},{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},v.bind(function(e){this.srcEl?this.targetEl.insertBefore(e,this.srcEl):this.targetEl.appendChild(e)},this),this.layout).then(v.bind(function(e){this.setupSandbox(e)},this))}function y(e,t){return e+t}var b=[".customisable",".customisable:link",".customisable:visited",".customisable:hover",".customisable:focus",".customisable:active",".customisable-highlight:hover",".customisable-highlight:focus","a:hover .customisable-highlight","a:focus .customisable-highlight"],w=["a:hover .ic-mask","a:focus .ic-mask"],E=[".customisable-border"],S=[".timeline-header h1.summary",".timeline-header h1.summary a:link",".timeline-header h1.summary a:visited"],x,T,N,C={TWEET:0,RETWEET:10};g.prototype=new t,v.aug(g.prototype,{setupSandbox:function(e){this.sandbox=e,h.some(e.appendCss("body{display:none}"),e.setBaseTarget("_blank"),e.appendStyleSheet(twttr.widgets.config.assetUrl()+"/"+r("embed/timeline.css"))).then(v.bind(function(){this.readyResolver.fulfill(e)},this))},ready:function(){return this.readyPromise},rendered:function(){return this.renderedPromise},contentWidth:function(e){var t=this.dimensions,n=this.fullBleedPhoto?0:this.chromeless&&this.narrow?t.NARROW_MEDIA_PADDING_CL:this.chromeless?t.WIDE_MEDIA_PADDING_CL:this.narrow?t.NARROW_MEDIA_PADDING:t.WIDE_MEDIA_PADDING;return(e||this.width)-n},addSiteStyles:function(){var e=v.bind(function(e){return(this.theme=="dark"?".thm-dark ":"")+e},this),t=[];this.headingStyle&&t.push(v.map(S,e).join(",")+"{"+this.headingStyle+"}"),this.linkColor&&(t.push(v.map(b,e).join(",")+"{color:"+this.linkColor+"}"),t.push(v.map(w,e).join(",")+"{background-color:"+this.linkColor+"}")),this.borderColor&&t.push(v.map(E,e).concat(this.theme=="dark"?[".thm-dark.customisable-border"]:[]).join(",")+"{border-color:"+this.borderColor+"}");if(!t.length)return;return this.sandbox.appendCss(t.join(""))},setNarrow:function(){var e=this.narrow;return this.narrow=this.width<this.dimensions.NARROW_WIDTH,e!=this.narrow?this.layout(v.bind(function(){return u.toggle(this.element,"var-narrow",this.narrow)},this)):h.fulfill(this.narrow)},bindIntentHandlers:function(){function e(e){var n=a.ancestor(".tweet",this,r),i=v.aug({},t.baseScribeData(),t.extractTweetScribeDetails(n));o.scribeInteraction(e,i,!0,t.dnt)}var t=this,r=this.element;f.delegate(r,"click","A",e),f.delegate(r,"click","BUTTON",e),f.delegate(r,"click",".profile",function(){t.addUrlParams(this)}),f.delegate(r,"click",".follow-button",function(e){var r;if(e.altKey||e.metaKey||e.shiftKey)return;if(c.ios()||c.android())return;if(d.asBoolean(this.getAttribute("data-age-gate")))return;r=p.intentForFollowURL(this.href,!0),r&&(n.open(r,t.sandbox.element()),f.preventDefault(e))}),f.delegate(r,"click",".web-intent",function(e){t.addUrlParams(this);if(e.altKey||e.metaKey||e.shiftKey)return;n.open(this.href,t.sandbox.element()),f.preventDefault(e)})},baseScribeData:function(){return{}},extractTweetScribeDetails:function(e){var t,n,r={};return e?(t=e.getAttribute("data-tweet-id"),n=e.getAttribute("data-rendered-tweet-id")||t,n==t?r[n]={item_type:C.TWEET}:t&&(r[n]={item_type:C.RETWEET,target_type:C.TWEET,target_id:t}),r):r},constrainMedia:function(e,t){return s.constrainMedia(e||this.element,t||this.contentWidth(),this.fullBleedPhoto,this.layout)},collapseRegions:function(){v.forEach(a.all("collapsible-container",this.element),v.bind(function(e){var t=e.children,n=t.length&&e.offsetWidth,r=t.length&&v.map(t,function(e){return e.offsetWidth}),i=t.length,s,o;if(!t.length)return;while(i>0){i--,s=v.reduce(r,y,0);if(!n||!s)return;if(s<n)return;o=t[i].getAttribute("data-collapsed-class");if(!o)continue;u.add(this.element,o),r[i]=t[i].offsetWidth}},this))}}),g.VALID_UNIT=/^([0-9]+)( ?px)?$/,g.VALID_COLOR=/^(#(?:[0-9a-f]{3}|[0-9a-f]{6}))$/i,m(),e(g)})});provide("tfw/widget/timeline",function(e){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","util/promise","anim/transition","tfw/util/article","tfw/util/data","tfw/util/media","tfw/util/tracking","tfw/util/params","util/css","util/env","util/throttle","util/twitter","util/querystring","util/typevalidator","util/util","dom/delegate","dom/classname","dom/get",function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w){function E(e){if(!e)return;var t,r,i,s,o,u,a,f;n.apply(this,[e]),t=this.params(),r=(t.chrome||this.dataAttr("chrome")||"").split(" "),this.preview=t.previewParams,this.widgetId=t.widgetId||this.dataAttr("widget-id"),this.instanceId=++q,this.cursors={maxPosition:0,minPosition:0},(s=t.screenName||this.dataAttr("screen-name"))||(o=t.userId||this.dataAttr("user-id"))?this.override={overrideType:"user",overrideId:o,overrideName:s,withReplies:m.asBoolean(t.showReplies||this.dataAttr("show-replies"))?"true":"false"}:(s=t.favoritesScreenName||this.dataAttr("favorites-screen-name"))||(o=t.favoritesUserId||this.dataAttr("favorites-user-id"))?this.override={overrideType:"favorites",overrideId:o,overrideName:s}:((s=t.listOwnerScreenName||this.dataAttr("list-owner-screen-name"))||(o=t.listOwnerId||this.dataAttr("list-owner-id")))&&((u=t.listId||this.dataAttr("list-id"))||(a=t.listSlug||this.dataAttr("list-slug")))?this.override={overrideType:"list",overrideOwnerId:o,overrideOwnerName:s,overrideId:u,overrideName:a}:(f=t.customTimelineId||this.dataAttr("custom-timeline-id"))?this.override={overrideType:"custom",overrideId:f}:this.override={},this.tweetLimit=m.asInt(t.tweetLimit||this.dataAttr("tweet-limit")),this.staticTimeline=this.tweetLimit>0,r.length&&(i=~g.indexOf(r,"none"),this.chromeless=i||~g.indexOf(r,"transparent"),this.headerless=i||~g.indexOf(r,"noheader"),this.footerless=i||~g.indexOf(r,"nofooter"),this.borderless=i||~g.indexOf(r,"noborders"),this.noscrollbar=~g.indexOf(r,"noscrollbar")),this.headingStyle=c.sanitize(t.headingStyle||this.dataAttr("heading-style"),undefined,!0),this.classAttr.push("twitter-timeline-rendered"),this.ariaPolite=t.ariaPolite||this.dataAttr("aria-polite")}var S="1.0",x={CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2},T="timeline",N="new-tweets-bar",C="timeline-header",k="timeline-footer",L="stream",A="h-feed",O="tweet",M="expanded",_="detail-expander",D="expand",P="permalink",H="twitter-follow-button",B="no-more-pane",j="pending-scroll-in",F="pending-new-tweet",I="pending-new-tweet-display",q=0;E.prototype=new n,g.aug(E.prototype,{renderedClassNames:"twitter-timeline twitter-timeline-rendered",dimensions:{DEFAULT_HEIGHT:"600",DEFAULT_WIDTH:"520",NARROW_WIDTH:"320",MIN_WIDTH:"180",MIN_HEIGHT:"200",WIDE_MEDIA_PADDING:81,NARROW_MEDIA_PADDING:16,WIDE_MEDIA_PADDING_CL:60,NARROW_MEDIA_PADDING_CL:12},create:function(e){var n=this.sandbox.createElement("div"),r,s,o,u=[],l;n.innerHTML=e.body,r=n.children[0]||!1;if(!r)return;return this.reconfigure(e.config),this.discardStaticOverflow(r),this.sandbox.setTitle(r.getAttribute("data-iframe-title")||"Timeline"),a.retinize(r),this.constrainMedia(r),this.searchQuery=r.getAttribute("data-search-query"),this.profileId=r.getAttribute("data-profile-id"),this.timelineType=r.getAttribute("data-timeline-type"),l=this.getTweetDetails(n),g.forIn(l,function(e){u.push(e)}),o=this.baseScribeData(),o.item_ids=u,o.item_details=l,this.timelineType&&f.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:u.length?"results":"no_results"},o,!0,this.dnt),f.enqueue({page:"timeline",component:"timeline",element:"initial",action:u.length?"results":"no_results"},o,!0,this.dnt),f.flush(),this.ariaPolite=="assertive"&&(s=w.one(N,r,"DIV"),s.setAttribute("aria-polite","assertive")),r.id=this.id,r.className+=" "+this.classAttr.join(" "),r.lang=this.lang,this.augmentWidgets(r),this.ready().then(g.bind(function(e){e.appendChild(r).then(g.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),e.style({cssText:"",border:"none",maxWidth:"100%",minWidth:this.dimensions.MIN_WIDTH+"px"}),this.layout(g.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl),this.predefinedWidth=this.width,this.predefinedHeight=this.height,this.width=e.width(this.width),this.height=e.height(this.height)},this)).then(g.bind(function(){var n=[];this.width<this.predefinedWidth&&n.push(this.layout(g.bind(function(){this.width=e.width(this.predefinedWidth)},this))),this.height<this.predefinedHeight&&n.push(this.layout(g.bind(function(){this.height=e.height(this.predefinedHeight),this.recalculateStreamHeight()},this))),n.length&&t.doLayoutAsync(),n.push(i.fulfill()),i.every.apply(null,n).then(g.bind(function(){this.setNarrow(),this.sandbox.onresize(g.bind(this.handleResize,this)),this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),r},render:function(e,n){return!this.preview&&!this.widgetId?(this.completeResolver.reject(400),this.completed()):(this.staticTimeline?this.rendered().then(g.bind(function(e){this.layout(g.bind(function(){e.height(this.height=this.element.offsetHeight)},this)),t.doLayoutAsync()},this)):this.rendered().then(g.bind(function(){this.recalculateStreamHeight(),t.doLayoutAsync()},this)),this.preview?this.getPreviewTimeline():this.getTimeline(),n&&this.completed().then(n),this.completed())},getPreviewTimeline:function(){u.timelinePreview({success:g.bind(function(e){this.ready().then(g.bind(function(){this.element=this.create(e),this.readTranslations(),this.bindInteractions(),this.updateCursors(e.headers,{initial:!0}),t.doLayoutAsync()},this))},this),error:g.bind(function(e){if(!e||!e.headers){this.completeResolver.fulfill(this.srcEl);return}this.completeResolver.reject(e.headers.status)},this),params:this.preview})},getTimeline:function(){f.initPostLogging(),u.timeline(g.aug({id:this.widgetId,instanceId:this.instanceId,dnt:this.dnt,lang:this.lang,success:g.bind(function(e){this.ready().then(g.bind(function(){this.element=this.create(e),this.readTranslations(),this.bindInteractions(),this.updateTimeStamps(),this.updateCursors(e.headers,{initial:!0}),e.headers.xPolling&&/\d/.test(e.headers.xPolling)&&(this.pollInterval=e.headers.xPolling*1e3),this.staticTimeline||this.schedulePolling(),t.doLayoutAsync()},this))},this),error:g.bind(function(e){if(!e||!e.headers){this.completeResolver.fulfill(this.srcEl);return}this.completeResolver.reject(e.headers.status)},this)},this.override))},reconfigure:function(e){this.lang=e.lang,this.theme||(this.theme=e.theme),this.theme=="dark"&&this.classAttr.push("thm-dark"),this.chromeless&&this.classAttr.push("var-chromeless"),this.borderless&&this.classAttr.push("var-borderless"),this.headerless&&this.classAttr.push("var-headerless"),this.footerless&&this.classAttr.push("var-footerless"),this.staticTimeline&&this.classAttr.push("var-static"),!this.linkColor&&e.linkColor&&n.VALID_COLOR.test(e.linkColor)&&(this.linkColor=RegExp.$1),!this.height&&n.VALID_UNIT.test(e.height)&&(this.height=RegExp.$1),this.height=Math.max(this.dimensions.MIN_HEIGHT,this.height?this.height:this.dimensions.DEFAULT_HEIGHT),this.preview&&this.classAttr.push("var-preview"),this.narrow=this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.addSiteStyles()},getTweetDetails:function(e){var t=w.one(A,e),n,r={},i,s,o=0;n=t&&t.children||[];for(;i=n[o];o++)s=w.one(P,i,"A"),g.aug(r,this.extractTweetScribeDetails(i));return r},baseScribeData:function(){return{widget_id:this.widgetId,widget_origin:o.url(),client_version:S,message:this.partner,query:this.searchQuery,profile_id:this.profileId}},bindInteractions:function(){var e=this,t=this.element,n=!0;this.bindIntentHandlers(),y.delegate(t,"click",".load-tweets",function(t){n&&(n=!1,e.forceLoad(),y.stop(t))}),y.delegate(t,"click",".display-sensitive-image",function(n){e.showNSFW(w.ancestor("."+O,this,t)),y.stop(n)}),y.delegate(t,"mouseover","."+T,function(){e.mouseOver=!0}),y.delegate(t,"mouseout","."+T,function(){e.mouseOver=!1}),y.delegate(t,"mouseover","."+N,function(){e.mouseOverNotifier=!0}),y.delegate(t,"mouseout","."+N,function(){e.mouseOverNotifier=!1,window.setTimeout(function(){e.hideNewTweetNotifier()},3e3)});if(this.staticTimeline)return;y.delegate(t,"click","."+D,function(n){if(n.altKey||n.metaKey||n.shiftKey)return;e.toggleExpando(w.ancestor("."+O,this,t)),y.stop(n)}),y.delegate(t,"click","A",function(e){y.stopPropagation(e)}),y.delegate(t,"click",".with-expansion",function(t){e.toggleExpando(this),y.stop(t)}),y.delegate(t,"click",".load-more",function(){e.loadMore()}),y.delegate(t,"click","."+N,function(){e.scrollToTop(),e.hideNewTweetNotifier(!0)})},scrollToTop:function(){var e=w.one(L,this.element,"DIV");e.scrollTop=0,e.focus()},update:function(){var e=this,t=w.one(A,this.element),n=t&&t.children[0],r=n&&n.getAttribute("data-tweet-id");this.updateTimeStamps(),this.requestTweets(r,!0,function(t){t.childNodes.length>0&&e.insertNewTweets(t)})},loadMore:function(){var e=this,t=w.all(O,this.element,"LI").pop(),n=t&&t.getAttribute("data-tweet-id");this.requestTweets(n,!1,function(t){var r=w.one(B,e.element,"P"),i=t.childNodes[0];r.style.cssText="",i&&i.getAttribute("data-tweet-id")==n&&t.removeChild(i);if(t.childNodes.length>0){e.appendTweets(t);return}b.add(e.element,"no-more"),r.focus()})},forceLoad:function(){var e=this,t=!!w.all(A,this.element,"OL").length;this.requestTweets(1,!0,function(n){n.childNodes.length&&(e[t?"insertNewTweets":"appendTweets"](n),b.add(e.element,"has-tweets"))})},schedulePolling:function(e){var t=this;if(this.pollInterval===null)return;e=twttr.widgets.poll||e||this.pollInterval||1e4,e>-1&&window.setTimeout(function(){this.isUpdating||t.update(),t.schedulePolling()},e)},updateCursors:function(e,t){(t||{}).initial?(this.cursors.maxPosition=e.maxPosition,this.cursors.minPosition=e.minPosition):(t||{}).newer?this.cursors.maxPosition=e.maxPosition||this.cursors.maxPosition:this.cursors.minPosition=e.minPosition||this.cursors.minPosition},requestTweets:function(e,t,n){var r=this,i={id:this.widgetId,instanceId:this.instanceId,screenName:this.widgetScreenName,userId:this.widgetUserId,withReplies:this.widgetShowReplies,dnt:this.dnt,lang:this.lang};t&&this.cursors.maxPosition?i.minPosition=this.cursors.maxPosition:!t&&this.cursors.minPosition?i.maxPosition=this.cursors.minPosition:t?i.sinceId=e:i.maxId=e,i.complete=function(){this.isUpdating=!1},i.error=function(e){if(e&&e.headers){if(e.headers.status=="404"){r.pollInterval=null;return}if(e.headers.status=="503"){r.pollInterval*=1.5;return}}},i.success=function(e){var i=r.sandbox.createDocumentFragment(),s=r.sandbox.createElement("div"),o,u=[],l,c;r.updateCursors(e.headers,{newer:t}),e&&e.headers&&e.headers.xPolling&&/\d+/.test(e.headers.xPolling)&&(r.pollInterval=e.headers.xPolling*1e3);if(e&&e.body!==undefined){s.innerHTML=e.body;if(s.children[0]&&s.children[0].tagName!="LI")return;l=r.getTweetDetails(s);for(c in l)l.hasOwnProperty(c)&&u.push(c);u.length&&(o=r.baseScribeData(),o.item_ids=u,o.item_details=l,o.event_initiator=t?x.CLIENT_SIDE_APP:x.CLIENT_SIDE_USER,this.timelineType&&f.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:u.length?"results":"no_results"},o,!0,this.dnt),f.enqueue({page:"timeline",component:"timeline",element:t?"newer":"older",action:"results"},o,!0,r.dnt),f.flush()),a.retinize(s),r.constrainMedia(s);while(s.children[0])i.appendChild(s.children[0]);n(i)}},u.timelinePoll(g.aug(i,this.override))},insertNewTweets:function(e){var t=this,n=w.one(L,this.element,"DIV"),r=w.one(A,n,"OL"),i=r.offsetHeight,o;r.insertBefore(e,r.firstChild),o=r.offsetHeight-i;if(n.scrollTop>40||this.mouseIsOver()){n.scrollTop=n.scrollTop+o,this.updateTimeStamps(),this.showNewTweetNotifier();return}b.remove(this.element,j),r.style.cssText="margin-top: -"+o+"px",window.setTimeout(function(){n.scrollTop=0,b.add(t.element,j),h.cssTransitions()?r.style.cssText="":s.animate(function(e){e<o?r.style.cssText="margin-top: -"+(o-e)+"px":r.style.cssText=""},o,500,s.easeOut)},500),this.updateTimeStamps(),this.timelineType!="custom"&&this.gcTweets(50)},appendTweets:function(e){var t=w.one(L,this.element,"DIV"),n=w.one(A,t,"OL");n.appendChild(e),this.updateTimeStamps()},gcTweets:function(e){var t=w.one(A,this.element,"OL"),n=t.children.length,r;e=e||50;for(;n>e&&(r=t.children[n-1]);n--)t.removeChild(r)},showNewTweetNotifier:function(){var e=this,t=w.one(N,this.element,"DIV"),n=t.children[0];t.style.cssText="",t.removeChild(n),t.appendChild(n),b.add(this.element,I),window.setTimeout(function(){b.add(e.element,F)},10),this.newNoticeDisplayTime=+(new Date),window.setTimeout(function(){e.hideNewTweetNotifier()},5e3)},hideNewTweetNotifier:function(e){var t=this;if(!e&&this.mouseOverNotifier)return;b.remove(this.element,F),window.setTimeout(function(){b.remove(t.element,I)},500)},augmentWidgets:function(e){var t=w.one(H,e,"A");if(!t)return;t.setAttribute("data-related",this.related),t.setAttribute("data-partner",this.partner),t.setAttribute("data-dnt",this.dnt),t.setAttribute("data-search-query",this.searchQuery),t.setAttribute("data-profile-id",this.profileId),this.width<250&&t.setAttribute("data-show-screen-name","false"),twttr.widgets.load(t.parentNode)},discardStaticOverflow:function(e){var t=w.one(A,e,"OL"),n;if(this.staticTimeline){this.height=0;while(n=t.children[this.tweetLimit])t.removeChild(n)}},hideStreamScrollBar:function(){var e=w.one(L,this.element,"DIV"),t=w.one(A,this.element,"OL"),n;e.style.width="",n=this.element.offsetWidth-t.offsetWidth,n>0&&(e.style.width=this.element.offsetWidth+n+"px")},readTranslations:function(){var e=this.element,t="data-dt-";this.datetime=new r(g.compact({phrases:{now:e.getAttribute(t+"now"),s:e.getAttribute(t+"s"),m:e.getAttribute(t+"m"),h:e.getAttribute(t+"h"),second:e.getAttribute(t+"second"),seconds:e.getAttribute(t+"seconds"),minute:e.getAttribute(t+"minute"),minutes:e.getAttribute(t+"minutes"),hour:e.getAttribute(t+"hour"),hours:e.getAttribute(t+"hours")},months:e.getAttribute(t+"months").split("|"),formats:{abbr:e.getAttribute(t+"abbr"),shortdate:e.getAttribute(t+"short"),longdate:e.getAttribute(t+"long")}}))},updateTimeStamps:function(){var e=w.all(P,this.element,"A"),t,n,r=0,i,s;for(;t=e[r];r++){i=t.getAttribute("data-datetime"),s=i&&this.datetime.timeAgo(i,this.i18n),n=t.getElementsByTagName("TIME")[0];if(!s)continue;if(n&&n.innerHTML){n.innerHTML=s;continue}t.innerHTML=s}},mouseIsOver:function(){return this.mouseOver},addUrlParams:function(e){var t=this,n={tw_w:this.widgetId,related:this.related,partner:this.partner,query:this.searchQuery,profile_id:this.profileId,original_referer:o.url(),tw_p:"embeddedtimeline"};return this.addUrlParams=l(n,function(e){var n=w.ancestor("."+O,e,t.element);return n&&{tw_i:n.getAttribute("data-tweet-id")}}),this.addUrlParams(e)},showNSFW:function(e){var t=w.one("nsfw",e,"DIV"),n,r,i=0,s,o,u,f;if(!t)return;r=a.scaleDimensions(t.getAttribute("data-width"),t.getAttribute("data-height"),this.contentWidth(),t.getAttribute("data-height")),n=!!(o=t.getAttribute("data-player")),n?u=this.sandbox.createElement("iframe"):(u=this.sandbox.createElement("img"),o=t.getAttribute(h.retina()?"data-image-2x":"data-image"),u.alt=t.getAttribute("data-alt"),f=this.sandbox.createElement("a"),f.href=t.getAttribute("data-href"),f.appendChild(u)),u.title=t.getAttribute("data-title"),u.src=o,u.width=r.width,u.height=r.height,s=w.ancestor("."+_,t,e),i=r.height-t.offsetHeight,t.parentNode.replaceChild(n?u:f,t),s.style.cssText="height:"+(s.offsetHeight+i)+"px"},toggleExpando:function(e){var n=w.one(_,e,"DIV"),r=n&&n.children[0],i=r&&r.getAttribute("data-expanded-media"),s,o=0,u=w.one(D,e,"A"),f=u&&u.getElementsByTagName("B")[0],l=f&&(f.innerText||f.textContent),c;if(!f)return;this.layout(function(){f.innerHTML=u.getAttribute("data-toggled-text"),u.setAttribute("data-toggled-text",l)});if(b.present(e,M)){this.layout(function(){b.remove(e,M)});if(!n){t.doLayout();return}this.layout(function(){n.style.cssText="",r.innerHTML=""}),t.doLayout();return}i&&(s=this.sandbox.createElement("DIV"),s.innerHTML=i,a.retinize(s),o=this.constrainMedia(s),this.layout(function(){r.appendChild(s)})),n&&this.layout(function(){c=Math.max(r.offsetHeight,o),n.style.cssText="height:"+c+"px"}),this.layout(function(){b.add(e,M)}),t.doLayout()},recalculateStreamHeight:function(e){var t=w.one(C,this.element,"DIV"),n=w.one(k,this.element,"DIV"),r=w.one(L,this.element,"DIV");this.layout(g.bind(function(){var i=t.offsetHeight+(n?n.offsetHeight:0),s=e||this.sandbox.height();r.style.cssText="height:"+(s-i-2)+"px",this.noscrollbar&&this.hideStreamScrollBar()},this))},handleResize:function(e,n){var r=Math.min(this.dimensions.DEFAULT_WIDTH,Math.max(this.dimensions.MIN_WIDTH,Math.min(this.predefinedWidth||this.dimensions.DEFAULT_WIDTH,e)));if(r==this.width&&n==this.height)return;this.width=r,this.height=n,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(r)),this.staticTimeline?this.layout(g.bind(function(){this.height=this.element.offsetHeight,this.sandbox.height(this.height),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)):(this.recalculateStreamHeight(n),twttr.events.trigger("resize",{target:this.sandbox.element()})),t.doLayoutAsync()}}),e(E)})});provide("tfw/widget/embed",function(e){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","tfw/util/params","dom/classname","dom/get","util/env","util/promise","util/util","util/throttle","util/twitter","tfw/util/article","tfw/util/data","tfw/util/tracking","tfw/util/media",function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){function m(e,t,n,r){var i=o.one("subject",e,"BLOCKQUOTE"),s=o.one("reply",e,"BLOCKQUOTE"),u=i&&i.getAttribute("data-tweet-id"),a=s&&s.getAttribute("data-tweet-id"),l={},c={};if(!u)return;l[u]={item_type:0},d.enqueue({page:"tweet",section:"subject",component:"tweet",action:"results"},f.aug({},t,{item_ids:[u],item_details:l}),!0,r);if(!a)return;c[a]={item_type:0},d.enqueue({page:"tweet",section:"conversation",component:"tweet",action:"results"},f.aug({},t,{item_ids:[a],item_details:c,associations:{4:{association_id:u,association_type:4}}}),!0,r)}function g(e,t,n){var r={};if(!e)return;r[e]={item_type:0},d.enqueue({page:"tweet",section:"subject",component:"rawembedcode",action:"no_results"},{client_version:E,widget_origin:h.url(),widget_frame:h.frameUrl(),message:t,item_ids:[e],item_details:r},!0,n)}function y(e,t,n,r){x[e]=x[e]||[],x[e].push({s:n,f:r,lang:t})}function b(){N.length&&twttr.widgets.load(N)}function w(e){if(!e)return;var t,r,i;n.apply(this,[e]),t=this.params(),r=this.srcEl&&this.srcEl.getElementsByTagName("A"),i=r&&r[r.length-1],this.hideThread=(t.conversation||this.dataAttr("conversation"))=="none"||~f.indexOf(this.classAttr,"tw-hide-thread"),this.hideCard=(t.cards||this.dataAttr("cards"))=="hidden"||~f.indexOf(this.classAttr,"tw-hide-media");if((t.align||this.attr("align"))=="left"||~f.indexOf(this.classAttr,"tw-align-left"))this.align="left";else if((t.align||this.attr("align"))=="right"||~f.indexOf(this.classAttr,"tw-align-right"))this.align="right";else if((t.align||this.attr("align"))=="center"||~f.indexOf(this.classAttr,"tw-align-center"))this.align="center",this.containerWidth>this.dimensions.MIN_WIDTH*(1/.7)&&this.width>this.containerWidth*.7&&(this.width=this.containerWidth*.7);this.narrow=t.narrow||this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.tweetId=t.tweetId||i&&c.status(i.href)}var E="2.0",S="tweetembed",x={},T=[],N=[];w.prototype=new n,f.aug(w.prototype,{renderedClassNames:"twitter-tweet twitter-tweet-rendered",dimensions:{DEFAULT_HEIGHT:"0",DEFAULT_WIDTH:"500",NARROW_WIDTH:"350",MIN_WIDTH:"220",MIN_HEIGHT:"0",WIDE_MEDIA_PADDING:32,NARROW_MEDIA_PADDING:32},create:function(e){var t=this.sandbox.createElement("div"),n,r;t.innerHTML=e,n=t.children[0]||!1;if(!n)return;return this.theme=="dark"&&this.classAttr.push("thm-dark"),this.linkColor&&this.addSiteStyles(),s.present(n,"media-forward")&&(this.fullBleedPhoto=!0),this.augmentWidgets(n),v.retinize(n),n.id=this.id,n.className+=" "+this.classAttr.join(" "),n.lang=this.lang,this.sandbox.setTitle(n.getAttribute("data-iframe-title")||"Tweet"),this.sandbox.appendChild(n).then(f.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),this.sandbox.style({cssText:"",display:"block",maxWidth:"99%",minWidth:this.dimensions.MIN_WIDTH+"px",padding:"0",borderRadius:"5px",margin:"10px 0",border:"#ddd 1px solid",borderTopColor:"#eee",borderBottomColor:"#bbb",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"absolute",visibility:"hidden"}),r=this.layout(f.bind(function(){this.predefinedWidth=this.width,this.width=this.sandbox.width(this.width),this.collapseRegions()},this),"Insert Sandbox"),r.then(f.bind(function(){this.constrainMedia(n,this.contentWidth(this.width)),this.setNarrow().then(f.bind(function(){this.layout(f.bind(function(){this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),m(n,this.baseScribeData(),this.partner,this.dnt),n},render:function(e,n){var r="",i=this.tweetId;return i?(this.hideCard&&(r+="c"),this.hideThread&&(r+="t"),r&&(i+="-"+r),this.rendered().then(f.bind(function(e){this.srcEl&&this.srcEl.parentNode&&this.layout(f.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl)},this),"Remove Embed Code"),this.align=="center"?e.style({margin:"7px auto",cssFloat:"none"}):this.align&&(this.width==this.dimensions.DEFAULT_WIDTH&&(this.predefinedWidth=this.width=this.dimensions.NARROW_WIDTH),e.style({cssFloat:this.align})),this.layout(f.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this)).then(f.bind(function(){return t.doLayoutAsync(),this.layout(f.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this))},this)).then(f.bind(function(){e.onresize(f.bind(this.handleResize,this))},this)),e.style({position:"static",visibility:"visible"}),t.doLayoutAsync()},this)),y(i,this.lang,f.bind(function(e){this.ready().then(f.bind(function(){this.element=this.create(e),this.readTimestampTranslations(),this.updateTimeStamps(),this.bindIntentHandlers(),t.doLayoutAsync()},this))},this),f.bind(function(){g(this.tweetId,this.partner,this.dnt),this.completeResolver.fulfill(this.srcEl)},this)),T.push(this.rendered()),n&&this.completed().then(n),this.completed()):(this.completeResolver.fulfill(this.srcEl),this.completed())},augmentWidgets:function(e){var t=o.one("twitter-follow-button",e,"A");if(!t)return;t.setAttribute("data-related",this.related),t.setAttribute("data-partner",this.partner),t.setAttribute("data-dnt",this.dnt),t.setAttribute("data-show-screen-name","false"),N.push(t.parentNode)},addUrlParams:function(e){var t=this,n={related:this.related,partner:this.partner,original_referer:h.url(),tw_p:S};return this.addUrlParams=i(n,function(e){var n=o.ancestor(".tweet",e,t.element);return{tw_i:n.getAttribute("data-tweet-id")}}),this.addUrlParams(e)},baseScribeData:function(){return{client_version:E,widget_origin:h.url(),widget_frame:h.frameUrl(),message:this.partner}},handleResize:function(e){if(e==this.width)return;this.width=e,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(e)),this.collapseRegions(),this.layout(f.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)),t.doLayoutAsync()},readTimestampTranslations:function(){var e=this.element,t="data-dt-",n=e.getAttribute(t+"months")||"";this.datetime=new r(f.compact({phrases:{AM:e.getAttribute(t+"am"),PM:e.getAttribute(t+"pm")},months:n.split("|"),formats:{full:e.getAttribute(t+"full")}}))},updateTimeStamps:function(){var e=o.one("long-permalink",this.element,"A"),n=e.getAttribute("data-datetime"),r=n&&this.datetime.localTimeStamp(n),i=e.getElementsByTagName("TIME")[0];if(!r)return;this.layout(function(){if(i&&i.innerHTML){i.innerHTML=r;return}e.innerHTML=r},"Update Timestamp"),t.doLayoutAsync()}}),w.fetchAndRender=function(){var e=x,n=[],r,i;x={};if(e.keys)n=e.keys();else for(r in e)e.hasOwnProperty(r)&&n.push(r);if(!n.length)return;d.initPostLogging(),i=e[n[0]][0].lang,p.tweets({ids:n.sort(),lang:i,complete:function(n){f.forIn(n,function(t,n){var r=e[t];f.forEach(r,function(e){e.s&&e.s.call(this,n)}),delete e[t]}),t.doLayout(),f.forIn(e,function(e,t){f.forEach(t,function(t){t.f&&t.f.call(this,e)})}),t.doLayout()}}),a.every.apply(null,T).then(function(){b(),d.flush()})},t.afterLoad(w.fetchAndRender),e(w)})});provide("dom/textsize",function(e){function t(e,t,n){var r=[],i=0,s;for(;s=n[i];i++)r.push(s[0]),r.push(s[1]);return e+t+r.join(":")}function n(e){var t=e||"";return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var r={};e(function(e,i,s){var o=document.createElement("span"),u={},a="",f,l=0,c=0,h=[];s=s||[],i=i||"",a=t(e,i,s);if(r[a])return r[a];o.className=i+" twitter-measurement";try{for(;f=s[l];l++)o.style[f[0]]=f[1]}catch(p){for(;f=s[c];c++)h.push(n(f[0])+":"+f[1]);o.setAttribute("style",h.join(";")+";")}return o.innerHTML=e,document.body.appendChild(o),u.width=o.clientWidth||o.offsetWidth,u.height=o.clientHeight||o.offsetHeight,document.body.removeChild(o),o=null,r[a]=u})});provide("tfw/widget/follow",function(e){using("util/util","tfw/widget/base","util/querystring","util/uri","util/twitter","util/promise","dom/textsize",function(t,n,r,i,s,o,u){function a(e){if(!e)return;var t,r,i,o;n.apply(this,[e]),t=this.params(),r=t.size||this.dataAttr("size"),i=t.showScreenName||this.dataAttr("show-screen-name"),o=t.count||this.dataAttr("count"),this.classAttr.push("twitter-follow-button"),this.showScreenName=i!="false",this.showCount=t.showCount!==!1&&this.dataAttr("show-count")!="false",o=="none"&&(this.showCount=!1),this.explicitWidth=t.width||this.dataAttr("width")||"",this.screenName=t.screen_name||t.screenName||s.screenName(this.attr("href")),this.preview=t.preview||this.dataAttr("preview")||"",this.align=t.align||this.dataAttr("align")||"",this.size=r=="large"?"l":"m"}a.prototype=new n,t.aug(a.prototype,{parameters:function(){var e={screen_name:this.screenName,lang:this.lang,show_count:this.showCount,show_screen_name:this.showScreenName,align:this.align,id:this.id,preview:this.preview,size:this.size,partner:this.partner,dnt:this.dnt,_:+(new Date)};return t.compact(e),r.encode(e)},width:function(){if(this.calculatedWidth)return this.calculatedWidth;if(this.explicitWidth)return this.explicitWidth;var e={cnt:13,btn:24,xlcnt:22,xlbtn:38},n=this.showScreenName?"Follow %{screen_name}":"Follow",r=this._(n,{screen_name:"@"+this.screenName}),i=~t.indexOf(["ja","ko"],this.lang)?this._("10k unit"):this._("M"),s=this._("%{followers_count} followers",{followers_count:"88888"+i}),o=0,a=0,f,l,c=this.styles.base;return this.size=="l"?(c=c.concat(this.styles.large),f=e.xlbtn,l=e.xlcnt):(f=e.btn,l=e.cnt),this.showCount&&(a=u(s,"",c).width+l),o=u(r,"",c.concat(this.styles.button)).width+f,this.calculatedWidth=o+a},render:function(e,n){if(!this.screenName)return o.reject("Missing Screen Name").then(n);var r=twttr.widgets.config.assetUrl()+"/widgets/follow_button.1404859412.html#"+this.parameters(),i=this.create(r,this.dimensions(),{title:this._("Twitter Follow Button")}).then(t.bind(function(e){return this.element=e},this));return n&&i.then(n),i}}),e(a)})});provide("tfw/widget/tweetbutton",function(e){using("tfw/widget/base","tfw/util/globals","util/util","util/querystring","util/uri","util/twitter","util/typevalidator","dom/textsize",function(t,n,r,i,s,o,u,a){function f(e){t.apply(this,[e]);var i=this.params(),u=i.count||this.dataAttr("count"),a=i.size||this.dataAttr("size"),f=s.getScreenNameFromPage(),d=""+(i.shareWithRetweet||this.dataAttr("share-with-retweet")||n.val("share-with-retweet"));this.classAttr.push("twitter-tweet-button"),i.type=="hashtag"||~r.indexOf(this.classAttr,"twitter-hashtag-button")?(this.type="hashtag",this.classAttr.push("twitter-hashtag-button")):i.type=="mention"||~r.indexOf(this.classAttr,"twitter-mention-button")?(this.type="mention",this.classAttr.push("twitter-mention-button")):this.classAttr.push("twitter-share-button"),this.text=i.text||this.dataAttr("text"),this.text&&/\+/.test(this.text)&&!/ /.test(this.text)&&(this.text=this.text.replace(/\+/g," ")),this.counturl=i.counturl||this.dataAttr("counturl"),this.searchlink=i.searchlink||this.dataAttr("searchlink"),this.button_hashtag=o.hashTag(i.button_hashtag||i.hashtag||this.dataAttr("button-hashtag"),!1),this.size=a=="large"?"l":"m",this.align=i.align||this.dataAttr("align")||"",this.via=i.via||this.dataAttr("via"),this.hashtags=i.hashtags||this.dataAttr("hashtags"),this.screen_name=o.screenName(i.screen_name||i.screenName||this.dataAttr("button-screen-name")),this.url=i.url||this.dataAttr("url"),this.type?(this.count="none",this.shareWithRetweet="never",f&&(this.related=this.related?f+","+this.related:f)):(this.text=this.text||l,this.url=this.url||s.getCanonicalURL()||c,this.count=~r.indexOf(h,u)?u:"horizontal",this.count=this.count=="vertical"&&this.size=="l"?"none":this.count,this.via=this.via||f,d&&~r.indexOf(p,d)&&(this.shareWithRetweet=d.replace("-","_")))}var l=document.title,c=encodeURI(location.href),h=["vertical","horizontal","none"],p=[,"never","publisher-first","publisher-only","author-first","author-only"];f.prototype=new t,r.aug(f.prototype,{widgetUrlParams:function(){return r.compact({text:this.text,url:this.url,via:this.via,related:this.related,count:this.count,lang:this.lang,counturl:this.counturl,searchlink:this.searchlink,placeid:this.placeid,original_referer:location.href,id:this.id,size:this.size,type:this.type,screen_name:this.screen_name,share_with_retweet:this.shareWithRetweet,button_hashtag:this.button_hashtag,hashtags:this.hashtags,align:this.align,partner:this.partner,dnt:this.dnt,_:+(new Date)})},parameters:function(){return i.encode(this.widgetUrlParams())},height:function(){return this.count=="vertical"?62:this.size=="m"?20:28},width:function(){var e={ver:8,cnt:14,btn:24,xlcnt:18,xlbtn:38},t=this.count=="vertical",n=this.type=="hashtag"&&this.button_hashtag?"Tweet %{hashtag}":this.type=="mention"&&this.screen_name?"Tweet to %{name}":"Tweet",i=this._(n,{name:"@"+this.screen_name,hashtag:"#"+this.button_hashtag}),s=this._("K"),o=this._("100K+"),u=(t?"8888":"88888")+s,f=0,l=0,c=0,h=0,p=this.styles.base,d=p;return~r.indexOf(["ja","ko"],this.lang)?u+=this._("10k unit"):u=u.length>o.length?u:o,t?(d=p.concat(this.styles.vbubble),h=e.ver,c=e.btn):this.size=="l"?(p=d=p.concat(this.styles.large),c=e.xlbtn,h=e.xlcnt):(c=e.btn,h=e.cnt),this.count!="none"&&(l=a(u,"",d).width+h),f=a(i,"",p.concat(this.styles.button)).width+c,t?f>l?f:l:this.calculatedWidth=f+l},render:function(e,t){var n=twttr.widgets.config.assetUrl()+"/widgets/tweet_button.1404859412.html#"+this.parameters(),i;return this.count&&this.classAttr.push("twitter-count-"+this.count),i=this.create(n,this.dimensions(),{title:this._("Twitter Tweet Button")}).then(r.bind(function(e){return this.element=e},this)),t&&i.then(t),i}}),e(f)})});provide("tfw/factories",function(e){using("util/util","util/promise","util/twitter","tfw/widget/base","tfw/widget/tweetbutton","tfw/widget/follow","tfw/widget/embed","tfw/widget/timeline",function(t,n,r,i,s,o,u,a){function f(e,r,s,o){return e=e||[],s=s||{},function(){var u,a,f,l=Array.prototype.slice.apply(arguments,[0,e.length]),c=Array.prototype.slice.apply(arguments,[e.length]),h;return t.forEach(c,function(e){if(!e)return;if(e.nodeType===1){f=e;return}if(t.isType("function",e)){u=e;return}t.isType("object",e)&&(a=e)}),l.length!=e.length||c.length===0?(u&&t.async(function(){u(!1)}),n.reject("Not enough parameters")):f?(a=t.aug(a||{},s),a.targetEl=f,t.forEach(e,function(e){a[e]=l.shift()}),h=new r(a),i.doLayout(),h.render(twttr.widgets.config),o&&o(),u&&h.completed().then(u,function(){u(!1)}),h.completed()):(u&&t.async(function(){u(!1)}),n.reject("No target specified"))}}function l(e){var n;e.linkColor=e.linkColor||e.previewParams.link_color,e.theme=e.theme||e.previewParams.theme,e.height=e.height||e.previewParams.height,n=new a(e),this.render=t.bind(n.render,n),this.completed=t.bind(n.completed,n)}var c=f(["url"],s,{type:"share"}),h=f(["hashtag"],s,{type:"hashtag"}),p=f(["screenName"],s,{type:"mention"}),d=f(["screenName"],o),v=f(["tweetId"],u,{},u.fetchAndRender),m=f(["widgetId"],a),g=f(["previewParams"],l),y={createShareButton:c,createMentionButton:p,createHashtagButton:h,createFollowButton:d,createTweet:v,createTweetEmbed:v,createTimeline:m};r.isTwitterURL(window.location.href)&&(y.createTimelinePreview=g),e(y)})});!function(){window.twttr=window.twttr||{},twttr.host=twttr.host||"platform.twitter.com",using("util/domready","util/env","util/logger",function(e,t,n){function r(e){return(e||!/^http\:$/.test(window.location.protocol))&&!twttr.ignoreSSL?"https":"http"}if(t.ie6())return;if(twttr.widgets&&twttr.widgets.loaded)return twttr.widgets.load(),!1;if(twttr.init)return!1;twttr.init=!0,twttr._e=twttr._e||[],twttr.ready=twttr.ready||function(e){twttr.widgets&&twttr.widgets.loaded?e(twttr):twttr._e.push(e)},using.path.length||(using.path=r()+"://"+twttr.host+"/js"),twttr.ignoreSSL=twttr.ignoreSSL||!1;var i=[];twttr.events={bind:function(e,t){return i.push([e,t])}},e(function(){using("tfw/widget/base","tfw/widget/follow","tfw/widget/tweetbutton","tfw/widget/embed","tfw/widget/timeline","tfw/widget/intent","tfw/factories","tfw/util/article","util/events","util/util",function(e,t,s,o,u,a,f,l,c,h){function p(e){var t=twttr.host;return r(e)=="https"&&twttr.secureHost&&(t=twttr.secureHost),r(e)+"://"+t}function d(){using("tfw/hub/client",function(e){twttr.events.hub=e.init(v),e.init(v,!0)})}var v={widgets:{"a.twitter-share-button":s,"a.twitter-mention-button":s,"a.twitter-hashtag-button":s,"a.twitter-follow-button":t,"blockquote.twitter-tweet":o,"a.twitter-timeline":u,"div.twitter-timeline":u,body:a}},m=twttr.events&&twttr.events.hub?twttr.events:{},g;v.assetUrl=p,twttr.widgets=twttr.widgets||{},h.aug(twttr.widgets,f,{config:{assetUrl:p},load:function(t){n.time("load"),e.init(v),e.embed(t),twttr.widgets.loaded=!0}}),h.aug(twttr.events,m,c.Emitter),g=twttr.events.bind,twttr.events.bind=function(e,t){d(),this.bind=g,this.bind(e,t)},h.forEach(i,function(e){twttr.events.bind(e[0],e[1])}),h.forEach(twttr._e,function(e){h.async(function(){e(twttr)})}),twttr.ready=function(e){h.async(function(){e(twttr)})},twttr.widgets.load()})})})}()});(function(e,t,n){function r(n,r,i){var s=t.createElement(n);return r&&(s.id=Z+r),i&&(s.style.cssText=i),e(s)}function i(){return n.innerHeight?n.innerHeight:e(n).height()}function s(t,n){n!==Object(n)&&(n={}),this.cache={},this.el=t,this.value=function(t){var r;return void 0===this.cache[t]&&(r=e(this.el).attr("data-cbox-"+t),void 0!==r?this.cache[t]=r:void 0!==n[t]?this.cache[t]=n[t]:void 0!==G[t]&&(this.cache[t]=G[t])),this.cache[t]},this.get=function(t){var n=this.value(t);return e.isFunction(n)?n.call(this.el,this):n}}function o(e){var t=C.length,n=(z+e)%t;return 0>n?t+n:n}function u(e,t){return Math.round((/%/.test(e)?("x"===t?k.width():i())/100:1)*parseInt(e,10))}function a(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function f(e,t){return e.get("retinaUrl")&&n.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function l(e){"contains"in b[0]&&!b[0].contains(e.target)&&e.target!==y[0]&&(e.stopPropagation(),b.focus())}function c(e){c.str!==e&&(b.add(y).removeClass(c.str).addClass(e),c.str=e)}function h(t){z=0,t&&t!==!1&&"nofollow"!==t?(C=e("."+et).filter(function(){var n=e.data(this,Y),r=new s(this,n);return r.get("rel")===t}),z=C.index(F.el),-1===z&&(C=C.add(F.el),z=C.length-1)):C=e(F.el)}function p(n){e(t).trigger(n),ut.triggerHandler(n)}function d(n){var i;if(!$){if(i=e(n).data(Y),F=new s(n,i),h(F.get("rel")),!X){X=V=!0,c(F.get("className")),b.css({visibility:"hidden",display:"block",opacity:""}),L=r(at,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),E.css({width:"",height:""}).append(L),I=S.height()+N.height()+E.outerHeight(!0)-E.height(),q=x.width()+T.width()+E.outerWidth(!0)-E.width(),R=L.outerHeight(!0),U=L.outerWidth(!0);var o=u(F.get("initialWidth"),"x"),a=u(F.get("initialHeight"),"y"),f=F.get("maxWidth"),d=F.get("maxHeight");F.w=(f!==!1?Math.min(o,u(f,"x")):o)-U-q,F.h=(d!==!1?Math.min(a,u(d,"y")):a)-R-I,L.css({width:"",height:F.h}),K.position(),p(tt),F.get("onOpen"),j.add(M).hide(),b.focus(),F.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",l,!0),ut.one(st,function(){t.removeEventListener("focus",l,!0)})),F.get("returnFocus")&&ut.one(st,function(){e(F.el).focus()})}y.css({opacity:parseFloat(F.get("opacity"))||"",cursor:F.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),F.get("closeButton")?B.html(F.get("close")).appendTo(E.closest("#colorbox")):B.appendTo("<div/>"),g()}}function v(){!b&&t.body&&(Q=!1,k=e(n),b=r(at).attr({id:Y,"class":e.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),y=r(at,"Overlay").hide(),O=e([r(at,"LoadingOverlay")[0],r(at,"LoadingGraphic")[0]]),w=r(at,"Wrapper"),E=r(at,"Content").append(M=r(at,"Title"),_=r(at,"Current"),H=e('<button type="button"/>').attr({id:Z+"Previous"}),P=e('<button type="button"/>').attr({id:Z+"Next"}),D=r("button","Slideshow"),O),B=e('<button type="button"/>').attr({id:Z+"Close"}),w.append(r(at).append(r(at,"TopLeft"),S=r(at,"TopCenter"),r(at,"TopRight")),r(at,!1,"clear:left").append(x=r(at,"MiddleLeft"),E,T=r(at,"MiddleRight")),r(at,!1,"clear:left").append(r(at,"BottomLeft"),N=r(at,"BottomCenter"),r(at,"BottomRight"))).find("div div").css({"float":"left"}),A=r(at,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),j=P.add(H).add(_).add(D),e(t.body).append(y,b.append(w,A)))}function m(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),d(this))}return b?(Q||(Q=!0,P.click(function(){K.next()}),H.click(function(){K.prev()}),B.click(function(){K.close()}),y.click(function(){F.get("overlayClose")&&K.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;X&&F.get("escKey")&&27===t&&(e.preventDefault(),K.close()),X&&F.get("arrowKey")&&C[1]&&!e.altKey&&(37===t?(e.preventDefault(),H.click()):39===t&&(e.preventDefault(),P.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+et,n):e("."+et).live("click."+Z,n)),!0):!1}function g(){var t,i,s,o=K.prep,l=++ft;if(V=!0,W=!1,p(ot),p(nt),F.get("onLoad"),F.h=F.get("height")?u(F.get("height"),"y")-R-I:F.get("innerHeight")&&u(F.get("innerHeight"),"y"),F.w=F.get("width")?u(F.get("width"),"x")-U-q:F.get("innerWidth")&&u(F.get("innerWidth"),"x"),F.mw=F.w,F.mh=F.h,F.get("maxWidth")&&(F.mw=u(F.get("maxWidth"),"x")-U-q,F.mw=F.w&&F.w<F.mw?F.w:F.mw),F.get("maxHeight")&&(F.mh=u(F.get("maxHeight"),"y")-R-I,F.mh=F.h&&F.h<F.mh?F.h:F.mh),t=F.get("href"),J=setTimeout(function(){O.show()},100),F.get("inline")){var c=e(t);s=e("<div>").hide().insertBefore(c),ut.one(ot,function(){s.replaceWith(c)}),o(c)}else F.get("iframe")?o(" "):F.get("html")?o(F.get("html")):a(F,t)?(t=f(F,t),W=new Image,e(W).addClass(Z+"Photo").bind("error",function(){o(r(at,"Error").html(F.get("imgError")))}).one("load",function(){l===ft&&setTimeout(function(){var t;e.each(["alt","longdesc","aria-describedby"],function(t,n){var r=e(F.el).attr(n)||e(F.el).attr("data-"+n);r&&W.setAttribute(n,r)}),F.get("retinaImage")&&n.devicePixelRatio>1&&(W.height=W.height/n.devicePixelRatio,W.width=W.width/n.devicePixelRatio),F.get("scalePhotos")&&(i=function(){W.height-=W.height*t,W.width-=W.width*t},F.mw&&W.width>F.mw&&(t=(W.width-F.mw)/W.width,i()),F.mh&&W.height>F.mh&&(t=(W.height-F.mh)/W.height,i())),F.h&&(W.style.marginTop=Math.max(F.mh-W.height,0)/2+"px"),C[1]&&(F.get("loop")||C[z+1])&&(W.style.cursor="pointer",W.onclick=function(){K.next()}),W.style.width=W.width+"px",W.style.height=W.height+"px",o(W)},1)}),W.src=t):t&&A.load(t,F.get("data"),function(t,n){l===ft&&o("error"===n?r(at,"Error").html(F.get("xhrError")):e(this).contents())})}var y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title}},Y="colorbox",Z="cbox",et=Z+"Element",tt=Z+"_open",nt=Z+"_load",rt=Z+"_complete",it=Z+"_cleanup",st=Z+"_closed",ot=Z+"_purge",ut=e("<a/>"),at="div",ft=0,lt={},ct=function(){function e(){clearTimeout(o)}function t(){(F.get("loop")||C[z+1])&&(e(),o=setTimeout(K.next,F.get("slideshowSpeed")))}function n(){D.html(F.get("slideshowStop")).unbind(a).one(a,r),ut.bind(rt,t).bind(nt,e),b.removeClass(u+"off").addClass(u+"on")}function r(){e(),ut.unbind(rt,t).unbind(nt,e),D.html(F.get("slideshowStart")).unbind(a).one(a,function(){K.next(),n()}),b.removeClass(u+"on").addClass(u+"off")}function i(){s=!1,D.hide(),e(),ut.unbind(rt,t).unbind(nt,e),b.removeClass(u+"off "+u+"on")}var s,o,u=Z+"Slideshow_",a="click."+Z;return function(){s?F.get("slideshow")||(ut.unbind(it,i),i()):F.get("slideshow")&&C[1]&&(s=!0,ut.one(it,i),F.get("slideshowAuto")?n():r(),D.show())}}();e[Y]||(e(v),K=e.fn[Y]=e[Y]=function(t,n){var r,i=this;if(t=t||{},e.isFunction(i))i=e("<a/>"),t.open=!0;else if(!i[0])return i;return i[0]?(v(),m()&&(n&&(t.onComplete=n),i.each(function(){var n=e.data(this,Y)||{};e.data(this,Y,e.extend(n,t))}).addClass(et),r=new s(i[0],t),r.get("open")&&d(i[0])),i):i},K.position=function(t,n){function r(){S[0].style.width=N[0].style.width=E[0].style.width=parseInt(b[0].style.width,10)-q+"px",E[0].style.height=x[0].style.height=T[0].style.height=parseInt(b[0].style.height,10)-I+"px"}var s,o,a,f=0,l=0,c=b.offset();if(k.unbind("resize."+Z),b.css({top:-9e4,left:-9e4}),o=k.scrollTop(),a=k.scrollLeft(),F.get("fixed")?(c.top-=o,c.left-=a,b.css({position:"fixed"})):(f=o,l=a,b.css({position:"absolute"})),l+=F.get("right")!==!1?Math.max(k.width()-F.w-U-q-u(F.get("right"),"x"),0):F.get("left")!==!1?u(F.get("left"),"x"):Math.round(Math.max(k.width()-F.w-U-q,0)/2),f+=F.get("bottom")!==!1?Math.max(i()-F.h-R-I-u(F.get("bottom"),"y"),0):F.get("top")!==!1?u(F.get("top"),"y"):Math.round(Math.max(i()-F.h-R-I,0)/2),b.css({top:c.top,left:c.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",s={width:F.w+U+q,height:F.h+R+I,top:f,left:l},t){var h=0;e.each(s,function(e){return s[e]!==lt[e]?(h=t,void 0):void 0}),t=h}lt=s,t||b.css(s),b.dequeue().animate(s,{duration:t||0,complete:function(){r(),V=!1,w[0].style.width=F.w+U+q+"px",w[0].style.height=F.h+R+I+"px",F.get("reposition")&&setTimeout(function(){k.bind("resize."+Z,K.position)},1),n&&n()},step:r})},K.resize=function(e){var t;X&&(e=e||{},e.width&&(F.w=u(e.width,"x")-U-q),e.innerWidth&&(F.w=u(e.innerWidth,"x")),L.css({width:F.w}),e.height&&(F.h=u(e.height,"y")-R-I),e.innerHeight&&(F.h=u(e.innerHeight,"y")),e.innerHeight||e.height||(t=L.scrollTop(),L.css({height:"auto"}),F.h=L.height()),L.css({height:F.h}),t&&L.scrollTop(t),K.position("none"===F.get("transition")?0:F.get("speed")))},K.prep=function(n){function i(){return F.w=F.w||L.width(),F.w=F.mw&&F.mw<F.w?F.mw:F.w,F.w}function u(){return F.h=F.h||L.height(),F.h=F.mh&&F.mh<F.h?F.mh:F.h,F.h}if(X){var l,h="none"===F.get("transition")?0:F.get("speed");L.remove(),L=r(at,"LoadedContent").append(n),L.hide().appendTo(A.show()).css({width:i(),overflow:F.get("scrolling")?"auto":"hidden"}).css({height:u()}).prependTo(E),A.hide(),e(W).css({"float":"none"}),c(F.get("className")),l=function(){function n(){e.support.opacity===!1&&b[0].style.removeAttribute("filter")}var r,i,u=C.length;X&&(i=function(){clearTimeout(J),O.hide(),p(rt),F.get("onComplete")},M.html(F.get("title")).show(),L.show(),u>1?("string"==typeof F.get("current")&&_.html(F.get("current").replace("{current}",z+1).replace("{total}",u)).show(),P[F.get("loop")||u-1>z?"show":"hide"]().html(F.get("next")),H[F.get("loop")||z?"show":"hide"]().html(F.get("previous")),ct(),F.get("preloading")&&e.each([o(-1),o(1)],function(){var n,r=C[this],i=new s(r,e.data(r,Y)),o=i.get("href");o&&a(i,o)&&(o=f(i,o),n=t.createElement("img"),n.src=o)})):j.hide(),F.get("iframe")?(r=t.createElement("iframe"),"frameBorder"in r&&(r.frameBorder=0),"allowTransparency"in r&&(r.allowTransparency="true"),F.get("scrolling")||(r.scrolling="no"),e(r).attr({src:F.get("href"),name:(new Date).getTime(),"class":Z+"Iframe",allowFullScreen:!0}).one("load",i).appendTo(L),ut.one(ot,function(){r.src="//about:blank"}),F.get("fastIframe")&&e(r).trigger("load")):i(),"fade"===F.get("transition")?b.fadeTo(h,1,n):n())},"fade"===F.get("transition")?b.fadeTo(h,0,function(){K.position(0,l)}):K.position(h,l)}},K.next=function(){!V&&C[1]&&(F.get("loop")||C[z+1])&&(z=o(1),d(C[z]))},K.prev=function(){!V&&C[1]&&(F.get("loop")||z)&&(z=o(-1),d(C[z]))},K.close=function(){X&&!$&&($=!0,X=!1,p(it),F.get("onCleanup"),k.unbind("."+Z),y.fadeTo(F.get("fadeOut")||0,0),b.stop().fadeTo(F.get("fadeOut")||0,0,function(){b.hide(),y.hide(),p(ot),L.remove(),setTimeout(function(){$=!1,p(st),F.get("onClosed")},1)}))},K.remove=function(){b&&(b.stop(),e[Y].close(),b.stop(!1,!0).remove(),y.remove(),$=!1,b=null,e("."+et).removeData(Y).removeClass(et),e(t).unbind("click."+Z).unbind("keydown."+Z))},K.element=function(){return e(F.el)},K.settings=G)})(jQuery,document,window)